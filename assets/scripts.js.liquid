!function(t,e,i){function a(){var t=-345,i=0;e("html").hasClass(u)&&(t=0,i=-345),e(".inline-navigation").hasClass(u)&&(e("html").animate({left:0},300),e(".inline-navigation").animate({right:-300},300)),e(".js-inline-cart, html, .js-overlay").toggleClass(u),e("html").animate({left:t},300),e(d).animate({right:i},300)}function s(t,i){e.ajax({method:"POST",url:"/cart/update.js",data:{updates:t},complete:function(t,i,a){var s=e(".js-item").length;e(".js-cart-count").text(s),n(),0==s?(e(".js-ic-empty").fadeIn("fast"),e(".js-ic-content").addClass("is-empty")):e(".js-ic-content").removeClass("is-empty")}})}function n(){setTimeout(function(){e.get("/cart?view=contents",function(t){e(".js-inline-cart").html(t),e(".js-ic-content").removeClass("is-empty"),e(".js-accordion").accordion(),e(".js-accordion").accordion("refresh"),e(".js-accordion").accordion({collapsible:!0}),e(".js-cart-count").text(e(".js-item").length),0==e(".js-item").length?(e(".js-ic-empty").fadeIn("fast"),e(".js-ic-content").addClass("is-empty")):e(".js-ic-content").removeClass("is-empty")})},1e3)}function o(t){var i={};return t.map(function(){e(this).fadeOut(200,function(){e(this).remove()}),i[e(this).attr("id")]=0}),i}var l=e(".js-inline-cart-show"),c=e(".menu-trigger"),r=e(".js-overlay"),d=".js-inline-cart",u="is-active";e(".inline-navigation").on("click",".js-popup",function(t){"visible"===e(".js-overlay").css("visibility")&&e(".js-overlay").trigger("click")}),r.on("click",function(){e(".inline-navigation").hasClass(u)?(e("html").animate({left:0},300),e(".inline-navigation").animate({right:-345},300),e("html").removeClass(u),e(".inline-navigation").removeClass(u),e(".menu-trigger .bar").removeClass("animate")):e(d).hasClass(u)&&(e("html").animate({left:0},300),e(d).animate({right:-345},300),e(d).removeClass(u),e("html").removeClass(u)),e(this).removeClass(u)}),c.on("click",function(){e(".js-inline-cart").hasClass(u)&&(e(".js-inline-cart, html").toggleClass(u),e("html").animate({left:0},300),e(d).animate({right:-345},300))}),l.on("click",function(){a()}),e(".js-inline-cart").on("click",".js-ic-remove",function(t){t.preventDefault(),t.stopPropagation();var i=e(this).parents(".js-item");i.hasClass("main")?s(o(e('[data-ref="'+i.data("ref")+'"]')),function(){}):s(o(e("#"+i.attr("id"))),function(){})}),0==e(".js-item").length?(e(".js-ic-empty").fadeIn("fast"),e(".js-ic-content").addClass("is-empty")):e(".js-ic-content").removeClass("is-empty"),e("#add").on("click",function(){n(),e("html").hasClass("android")||e("html").hasClass("ios")||setTimeout(a,700)})}(window.InlineCart=window.InlineCart||{},jQuery),function(t,e,i){var a=function(t){var e=!0;for(var i in t)"success"===i&&"error"===i&&"complete"===i||(valid=!1);return e};t.add=function(t,e,i,s){s===object&&a(s)||(s={}),CartJS.addItem(t,quantiity,i,s)},t.remove=function(t,e){e===object&&a(e)||(e={}),CartJS.removeItem(t,e)},t.init=function(){}}(window.LineItems=window.LineItems||{},jQuery),function(t,e,i){var a=function(){e("[data-modal-show]").on("click",function(i){i.preventDefault(),t.show(e(this).attr("data-modal-show"))}),e("[data-modal-hide]").on("click",function(e){e.preventDefault(),t.hide()})};t.show=function(t){Overlay.show(),Scroll.lock(),e('[data-modal="'+t+'"]').fadeIn(300),e("body").attr("data-active-modal",t)},t.hide=function(){Overlay.hide(),Scroll.unlock(),e("[data-modal]").fadeOut(300),e("body").removeAttr("data-active-modal")},t.init=function(){a()}}(window.Modal=window.Modal||{},jQuery),function(t,e,i){var a=function(){e("[data-overlay]").on("click",function(){t.hide()})};t.show=function(){e("[data-overlay]").fadeIn(300)},t.hide=function(){e("[data-overlay]").fadeOut(300)},t.init=function(){a()}}(window.Overlay=window.Overlay||{},jQuery),function(t,e,i){var a=function(){e(".js-scroll").on("click",function(t){var i=e(this);t.preventDefault(),t.stopPropagation(),e("html, body").animate({scrollTop:e(i.attr("href")).offset().top},1e3)})};t.lock=function(t){e("html, body").addClass("no-scroll")},t.unlock=function(t){e("html, body").removeClass("no-scroll")},e(document).on("ready",a())}(window.Scroll=window.Scroll||{},jQuery),function(t,e,i){t.init=function(){}}(window.Sliders=window.Sliders||{},jQuery),function(t,e,i){t.toggle=function(t){e(t).toggle()};var a=function(){"#recover"===window.location.hash&&t.toggle("#customer-login-form, #recover-password-form")},s=function(){e("[data-toggle]").on("click",function(i){t.toggle(e(this).data("target"))})};t.init=function(){s(),a()}}(window.Toggle=window.Toggle||{},jQuery),function(t,e,i,a){"use strict";function s(e,a,s){var n=i.location.hostname,o="/cart/add.js",l="//"+n+o;s||(s={Type:a,For:k+" ("+t(".js-product-ref").val()+")"}),t.ajax({url:l,dataType:"json",type:"POST",async:!1,data:{quantity:1,id:e,properties:s},success:function(t){}})}function n(e){var i;for(t('.mfp-content [data-slide="'+e+'"]').addClass("done"),t(".mfp-content .done").removeClass("done"),i=0;i<e;i++)t('.mfp-content [data-slide="'+i+'"]').addClass("done")}function o(){for(var t="",e="0123456789",i=0;i<10;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function l(e,i){var a=t(".js-stitching-cancel"),s=t(".js-stitching-choose");setTimeout(function(){a.data("hide",e),a.data("input-reset",i),s.data("hide",e)},100)}function c(){t(".step-slide__input").prop("checked",!1),t('[data-default="checked"]').prop("checked",!0),h.slick("unslick"),n(1),t(".js-action-finish").hide(),t(".js-action-next").show()}function r(){g.slick("unslick")}function d(t,e){var i={draggable:!1,arrows:!1,infinite:!1,touchMove:!1,adaptiveHeight:!0};e&&(i={draggable:!1,arrows:!1,infinite:!1,touchMove:!1,speed:200,fade:!0,cssEase:"linear",adaptiveHeight:!0}),t.slick(i)}function u(e,i,a){e.magnificPopup({type:"inline",preloader:!1,modal:!0,closeOnContentClick:!1,fixedContentPos:!1,callbacks:{beforeOpen:function(){t("html, body").addClass("no-scroll"),setTimeout(function(){d(i,a)},100)},afterClose:function(){t("html, body").removeClass("no-scroll")}}})}var p=o();t(".js-product-info").data("ref",p),t(".js-product-ref").val(p);var f,m=t(".js-app-popup"),h=t(".js-app-slider"),v=t(".js-get-fitted-popup"),g=t(".js-get-fitted-slider"),k=(t(".js-product-info").data("id"),t(".js-product-info").data("name"));t(".js-product-info").data("ref");t(function(){u(m,h,!1),u(v,g,!0),g.on("init",function(e,i,a,s){n(1);var o=t(".mfp-content").find(".js-get-fitted-slider");o.removeClass(function(t,e){return(e.match(/(^|\s)slide-\S+/g)||[]).join(" ")}),o.addClass("slide-0")}),g.on("beforeChange",function(e,i,a,s){var o=t(".mfp-content .slick-initialized .step-item").length-1;console.log("sliderLengthGF",o),console.log("nextSlide",s),console.log("currentSlide",a),t(".mfp-content").find(".slick-initialized").removeClass("slide-"+a),t(".mfp-content").find(".slick-initialized").addClass("slide-"+s),n(s+1),s===o?(console.log("Last"),t(".mfp-content .slick-slider").addClass("slide-last"),t(".mfp-content .iphone.js-safari .js-intro-next-alt").show(),t(".mfp-content .iphone.js-safari .js-intro-next").hide(),t(".mfp-content .js-actions-mobile--next").hide(),t(".mfp-content .js-actions-mobile--next-alt").show()):s<o&&(t(".mfp-content .slick-slider").removeClass("slide-last"),t(".mfp-content .iphone.js-safari .js-intro-next").show(),t(".mfp-content .iphone.js-safari .js-intro-next-alt").hide(),t(".mfp-content .js-actions-mobile--next").show(),t(".mfp-content .js-actions-mobile--next-alt").hide(),t(".mfp-content .js-action-next").show()),0==s?t(".mfp-content .js-actions-mobile").addClass("destroy"):t(".mfp-content .js-actions-mobile").removeClass("destroy")}),h.on("init",function(e,i,a,s){var o=t(".mfp-content").find(".js-app-slider");n(1),f=t(".slick-list").height(),o.removeClass(function(t,e){return(e.match(/(^|\s)slide-\S+/g)||[]).join(" ")}),o.addClass("slide-0")}),h.on("beforeChange",function(e,i,a,s){var o=t(".mfp-content").find(".js-app-slider");t(this).hasClass("free-slide")||n(s+1),o.removeClass("slide-"+a),o.addClass("slide-"+s);var l=t(".mfp-content .slick-initialized .step-slide").length-1;s===l?(t(".mfp-content .slick-slider").addClass("slide-last"),t(".mfp-content .js-save-for-later").show(),t(".mfp-content .iphone.js-safari .js-gf-next").hide()):s<l&&(t(".mfp-content .slick-slider").removeClass("slide-last"),t(".mfp-content .js-action-finish").hide(),t(".mfp-content .js-save-for-later").hide(),t(".mfp-content .iphone.js-safari .js-gf-finish").hide(),t(".mfp-content .iphone.js-safari .js-gf-next").show())}),t(".js-step").on("click",function(){h.slick("slickGoTo",t(this).data("go"),!0)}),t(".js-app-next").on("click",function(){t(".slick-slider").hasClass("js-get-fitted-slick")?""!=t('.slick-slider [name="input_height"]').val()&&""!=t('.slick-slider [name="input_weight"]').val()&&""!=t('.slick-slider [name="input_waist_size"]').val()&&""!=t('.slick-slider [name="input_shoe_size"]').val()&&""!=t('.slick-slider [name="input_pants_length_size"]').val()?t(".slick-slider").slick("slickNext"):t(".js-get-fitted-slick .js-required").each(function(){t(this).removeClass("error"),""==t(this).val()&&t(this).addClass("error")}):t(".slick-slider").slick("slickNext")}),t(".js-app-next-cm").on("click",function(){t(".slick-slider").hasClass("js-gf-custom")&&t(".slick-slider").hasClass("slide-0")?t(".slick-slider").slick("slickNext"):t(".slick-slider").hasClass("js-gf-custom")&&t(".slick-slider").hasClass("slide-1")?""!=t('.slick-slider [name="input_height"]').val()&&""!=t('.slick-slider [name="input_weight"]').val()&&""!=t('.slick-slider [name="input_waist_size"]').val()&&""!=t('.slick-slider [name="input_shoe_size"]').val()&&""!=t('.slick-slider [name="input_pants_length_size"]').val()?t(".slick-slider").slick("slickNext"):t(".js-gf-custom .js-required").each(function(){t(this).removeClass("error"),""==t(this).val()&&t(this).addClass("error")}):t(".slick-slider").hasClass("js-gf-custom")&&t(".slick-slider").hasClass("slide-2")?""!=t('.slick-slider [name="input_jacket_neck_size"]').val()&&""!=t('.slick-slider [name="input_jacket_shoulder_size"]').val()&&""!=t('.slick-slider [name="input_jacket_biceps_size"]').val()&&""!=t('.slick-slider [name="input_jacket_length"]').val()&&""!=t('.slick-slider [name="input_jacket_sleeve_size"]').val()&&""!=t('.slick-slider [name="input_jacket_chest_size"]').val()&&""!=t('.slick-slider [name="input_jacket_waist_size"]').val()?t(".slick-slider").slick("slickNext"):t(".js-gf-custom .js-required").each(function(){t(this).removeClass("error"),""==t(this).val()&&t(this).addClass("error")}):t(".slick-slider").hasClass("js-gf-custom")&&t(".slick-slider").hasClass("slide-4")?""!=t('.slick-slider [name="input_pants_waist_size"]').val()&&""!=t('.slick-slider [name="input_pants_length"]').val()&&""!=t('.slick-slider [name="input_pants_hips_size"]').val()&&""!=t('.slick-slider [name="input_pants_crotch_size"]').val()&&""!=t('.slick-slider [name="input_pants_thigh_size"]').val()&&""!=t('.slick-slider [name="input_pants_knee_size"]').val()?t(".slick-slider").slick("slickNext"):t(".js-gf-custom .js-required").each(function(){t(this).removeClass("error"),""==t(this).val()&&t(this).addClass("error")}):t(".slick-slider").slick("slickNext")}),t(".js-app-rebel-next").on("click",function(){t(".slick-slider").slick("slickNext")}),t(".js-app-prev").on("click",function(){t(".slick-slider").slick("slickPrev")}),t("[data-toggle]").on("click",function(){var e=t(this).data("toggle");t(e).toggle()}),t("[data-input-reset]").on("click",function(){var e=t(this).data("input-reset"),i=t(e).data("color");t(e+":checked").prop("checked",!1),t(e+'[type="radio"]').prop("checked",!0),t(i+'[value="Same as Suit"]').prop("checked",!0)}),t("[data-hide]").on("click",function(){var e=t(this).data("input"),i=t(this).data("hide");t(this).data("hide");if(e)if(t(e).is(":checked")){var a=t(e).data("color");"Same as Suit"!=t(a+":checked").val()?setTimeout(function(){t(e).prop("checked",!1),t(a+"[value='Same as Suit']").prop("checked",!0)},100):t(i).hide()}else t(i).hide();else t(i).hide()}),t("[data-show]").on("click",function(){var e=t(this).data("input"),i=t(this).data("show"),a=t(this).data("show");if(e)if(t(e).is(":checked")){var s=t(e).data("color");"Same as Suit"!=t(s+":checked").val()?setTimeout(function(){t(e).prop("checked",!1),t(s+"[value='Same as Suit']").prop("checked",!0)},100):(t(i).show(),l(a,e))}else t(i).show(),l(a,e),t(".js-actions").toggle();else t(i).show()}),t('[name="property-stitching"]').on("click",function(){"radio"==t(this).attr("type")?(t('[name="property-stitching"]').prop("checked",!1),t('[name="property-stitching"][type="radio"]').prop("checked",!0)):t('[name="property-stitching"][type="radio"]').prop("checked",!1)}),t(".js-monogramed-input").keypress(function(e){var i=20,a=t(this).val().length;a>=i&&e.preventDefault()}),t(".js-monogramed-input").keyup(function(e){var i=20,a=t(this).val().length;a>=i?(e.preventDefault(),t(".js-monogramed-count").text("20 is the limit"),t(".js-monogramed-count").addClass("highlight")):(t(".js-monogramed-count").text(i-a),t(".js-monogramed-count").removeClass("highlight"))}),t(".js-custom-finish").on("click",function(){function e(){t("#add").trigger("click")}t(".js-addon").each(function(){var e=this;if(t(this).is(":checked")){var i=t(this).data("type"),a=t(this).val(),n={};setTimeout(function(){if("Stitching"==i){var o=t(e).data("color"),l=t(o+":checked").val();if(l||(l="Same as Suit"),"Monogrammed"==t(e).data("name")){var c=t(e).data("label"),r=t(c).val();n={Type:i,For:k+" ("+t(".js-product-ref").val()+")",Label:r,Color:l}}else n={Type:i,For:k+" ("+t(".js-product-ref").val()+")",Color:l};s(a,i,n)}else n={Type:i,For:k+" ("+t(".js-product-ref").val()+")"},s(a,i)},500)}}),setTimeout(e,1e3)}),t(".js-reset-customizer").on("click",function(){setTimeout(c,500)}),t(".js-reset-get-fitted").on("click",function(){h.slick("unslick"),g.slick("unslick"),n(1),t(".js-action-finish").hide(),t(".js-action-next").show()}),t(".js-reset-get-fitted-intro").on("click",function(){setTimeout(r,500),d(h,!1)});var e=t(".step-slide").find(".js-required");e.length>=4&&t(e.eq(e.length-2)).on("change",function(){t(".app__content").animate({scrollTop:t(e.eq(e.length-1)).offset().top},1e3)}),t(".js-reslick").on("click",function(){var e=this,i=t(e).data("go");setTimeout(function(){h.slick("unslick"),setTimeout(function(){h.slick(),i>=0&&h.slick("slickGoTo",t(e).data("go"),!0)},100)},100)}),t(".js-fabrick-detail").on("click",function(){t(".js-palete-detail").show("fast"),t(".js-palete-detail--title").text(t(this).data("title")),t(".js-palete-detail--image").attr("src",t(this).data("image")),t(".js-palete-detail--description").html(t(this).data("description")),t(".js-palete-detail--go-back").data("show",t(this).data("self"))}),t("[data-height]").on("click",function(){var e=t(this).data("height"),i=t(e).height(),a="default"===e?f:i+50;t(".slick-list").height(a)}),t("[data-goto]").on("click",function(){var e=t(this).data("current");h.slick("slickGoTo",t(this).data("goto"),!0),e>=0&&n(e)}),t("[data-scrolltop]").on("click",function(){var e=t(this).data("scrolltop");t(e).scrollTop(0)}),t(".js-submit-register").on("click",function(){console.log("register"),t(".js-register-gt-form").trigger("click")})})}(jQuery,window,document),$(document).on("ready",function(){function t(){$.magnificPopup.open({items:{src:"#login_modal"},type:"inline",callbacks:{beforeOpen:function(){$("html, body").addClass("no-scroll")},afterClose:function(){$("html, body").removeClass("no-scroll")}}})}function e(t){return t?t:null}function i(t){setTimeout(function(){$.ajax({url:"https://demo.snapsuits.com/api/v1/customizations",type:"POST",headers:{Authorization:"Token bb8dd34ceaf3506a63ee3986d6ab0438becf19a1"},data:t,success:function(t){$(".js-save-for-later-text").text("Saved!"),setTimeout(function(){$(".js-save-for-later-text").text($(".js-save-for-later-text").data("default"))},3e3)},error:function(t){$(".js-save-for-later-text").text("Try Again"),setTimeout(function(){$(".js-save-for-later-text").text($(".js-save-for-later-text").data("default"))},3e3)},complete:function(t){}})},500)}function a(t){var i=[];return $('[name="'+t+'"]:checked').each(function(){var a=$(this).val();if("property-stitching"===t){var s={};s[a]={color:$($(this).data("color")+":checked").val(),label:e($($(this).data("label")).val())},i.push(s),s={}}else"property-extra"===t&&i.push(a)}),i}$(".js-save-for-later").on("click",function(){function s(){$(".js-addon:checked").each(function(){o={product_id:$(this).val(),product_name:$(this).data("name"),product_price:$(this).data("price"),product_image:$(this).data("image"),properties:JSON.stringify(l)},l={variant_id:$(this).val(),Type:$(this).data("type"),For:Shopify.product.title+" ("+Shopify.product.ref+")"},"Stitching"===$(this).data("type")&&(l={variant_id:$(this).val(),type:$(this).data("type"),For:Shopify.product.title+" ("+Shopify.product.ref+")",Color:$($(this).data("color")+":checked").val()},"Monogrammed"===$(this).data("name")&&(l={variant_id:$(this).val(),Type:$(this).data("type"),For:Shopify.product.title+" ("+Shopify.product.ref+")",Color:$($(this).data("color")+":checked").val(),Label:$($(this).data("label")).val()})),Shopify.customer&&(o={user_id:Shopify.customer.id,email:Shopify.customer.email,product_id:$(this).val(),product_name:$(this).data("name"),product_price:$(this).data("price"),product_image:$(this).data("image"),properties:JSON.stringify(l)},i(o))})}var n,o,l,c={variant_id:$(".js-product-info").attr("data-variant"),Ref:Shopify.product.ref,Lapel:e($('input[name="properties[Lapel]"]:checked').val()),"Lapel Additional":e($('input[name="properties[Lapel Additional]"]:checked').val()),Buttons:e($('input[name="properties[Buttons]"]:checked').val()),"Buttons Additional":e($('input[name="properties[Buttons Additional]"]:checked').val()),Pockets:e($('input[name="properties[Pockets]"]:checked').val()),"Pockets Additional":e($('input[name="properties[Pockets Additional]"]:checked').val()),Vents:e($('input[name="properties[Vents]"]:checked').val()),Pants:e($('input[name="properties[Pants]"]:checked').val()),"Pants Waist":e($('input[name="properties[Pants Waist]"]:checked').val()),"Pants Additionals":e($('input[name="properties[Pants Additionals]"]:checked').val()),"Pants Additionals ":e($('input[name="properties[Pants Additionals ]"]:checked').val()),"Pants Additionals  ":e($('input[name="properties[Pants Additionals  ]"]:checked').val())},r={product_id:Shopify.product.id,product_name:Shopify.product.title,product_price:Shopify.product.price,product_image:Shopify.product.image,product_url:Shopify.product.url,properties:JSON.stringify(c),addons:{}};Shopify.customer?($(".js-save-for-later-text").text("Saving..."),Cookies.get(Shopify.product.id.toString())?(n=jQuery.parseJSON(Cookies.get(Shopify.product.id.toString())),$(".js-variant-price").val(n.variant_id),$(".js-variant-price").trigger("change"),n.email=Shopify.customer.email,n.user_id=Shopify.customer.id,r.saved_status=!1,i(n,s()),Cookies.remove(r.product_id)):(n=r,r.saved_status=!1,n.email=Shopify.customer.email,n.user_id=Shopify.customer.id,i(n,s()))):(r.saved_status=!0,r.addons["property-lining"]=e($('input[name="property-lining"]:checked').val()),r.addons["property-stitching"]=a("property-stitching"),r.addons["property-extra"]=a("property-extra"),Cookies.remove(r.product_id),Cookies.set(r.product_id,r,{expires:1}),setTimeout(function(){t()},1e3))})}),!function(t,e,i){var a=function(){e('a[href*="#scroll"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=e(this.hash);if(t=t.length?t:e("[name="+this.hash.slice(1)+"]"),t.length)return e("html, body").animate({scrollTop:t.offset().top},1e3),!1}})};t.init=function(){a()}}(window.Global=window.Global||{},jQuery),function(t,e,i){var a=function(){e(".homepage-slides").slick({arrows:!0,dots:!0,speed:500,autoplay:!0,autoplaySpeed:3e3,pauseOnHover:!1,prevArrow:'<button type="button" class="slick-prev"><img src="//cdn.shopify.com/s/files/1/0662/6031/t/17/assets/slider-arrow-prev-white.png?7480676021010651589" alt="" /></button>',nextArrow:'<button type="button" class="slick-next"><img src="//cdn.shopify.com/s/files/1/0662/6031/t/17/assets/slider-arrow-next-white.png?7480676021010651589" alt="" /></button>'})},s=function(){},n=function(){a(),s(),e(".collection-tabs li a").on("click",function(){var t=e(this).attr("href");return e(".collection-tabs li").removeClass("is-active"),e(this).closest("li").addClass("is-active"),e(".collection-block").hide(),e(this).closest("[data-tab-closest]").find(t).show(),e(".collection-block").slick("unslick"),s(),!1}),e(".menu-trigger").on("click",function(){e(".bar").toggleClass("animate")}),e(".menu-trigger").on("click",function(){if(e(".inline-navigation, html").toggleClass("is-active"),e(".menu-overlay").addClass("is-active"),e("html").hasClass("is-active"))var t=-300,i=0;else var t=0,i=-300;e("html").animate({left:t},300),e(".inline-navigation").animate({right:i},300)}),e(".menu-overlay").on("click",function(){e(".inline-navigation, html").removeClass("is-active"),e(".menu-overlay").removeClass("is-active"),e(".bar").removeClass("animate"),e("html").animate({left:0},300),e(".inline-navigation").animate({right:-300},300)})};t.init=function(){n()}}(window.Homepage=window.Homepage||{},jQuery);var theme=function(){function t(){$(".js-footer-free").on("click",function(){$(".js-main-footer").hasClass("sticky")?$(".js-main-footer").removeClass("sticky"):p()})}function e(){v.on("click",function(){$("body").toggleClass(g),$("body, html").toggleClass("no-scroll")})}function i(){$(".js-send-email").on("submit",function(t){function e(t){return $(".js-send-email").find('[name="'+t+'"]').val()}function i(t){$.ajax({contentType:"application/x-www-form-urlencoded",url:"https://mandrillapp.com/api/1.0/messages/send.json",dataType:"json",type:"POST",data:a,success:function(e,i,a){"function"==typeof t&&t(e,!1)},error:function(e,i,a){"function"==typeof t&&t(i,!0)}})}t.preventDefault(),t.stopPropagation();var a={key:"w70boYzbpFILptnmI_S94g",message:{html:"<h3>"+e("full_name")+"</h3><p>"+e("text")+"</p>",text:"Name: "+e("full_name")+" \n"+e("text"),subject:"Philanthropy Request: "+e("full_name"),from_email:"philanthropy@snapsuits.com",from_name:"SnapSuits",to:[{email:"drew@snapsuits.com",name:"Ryan Leahy",type:"to"}],headers:{"Reply-To":e("email")}}};$('.js-send-email [name="kitty"]')&&""===$('.js-send-email [name="kitty"]').val()?i(function(t,e){var i=$(".js-send-email").find('[name="submit"]');e?i.val("Error, Try Again"):(i.val("Notification sended! ;)"),i.addClass("button--success")),setTimeout(function(){i.val("submit"),i.removeClass("button--success")},5e3)}):console.log("Kitties Cand send messages!!!")})}function a(){k.on("click",function(){$("body").toggleClass(j),$("body, html").toggleClass("no-scroll")})}function s(){var t=".js-tumbnail",e=".js-image-full",i="data-hd",a="is-active";$(t).on("click",function(){$(t).removeClass(a);var s=$(this).attr(i);$(this).addClass(a),$(e).attr("src",s)})}function n(t,e){var i=$(t);i.on("click",function(t){t.preventDefault(),t.stopPropagation(),$(this).parents(e).fadeOut(250)})}function o(t){t?$(t).accordion():$(".js-accordion").accordion({heightStyle:"content",collapsible:!0}),$(".js-accordion.js-accordion--close").accordion({heightStyle:"content",collapsible:!0,active:!1})}function l(t){if(!t)var t=".js-slider, .js-slick";$(t).slick(),$(".js-slide-suits-tab").on("click",function(){$(".js-slide-suits-tab").removeClass("is-active"),$(this).addClass("is-active"),$(".js-slide-suits").removeClass("is-active"),$($(this).data("slide")).addClass("is-active"),$($(this).data("slide")).slick("unslick").slick()})}function c(t){if(!t)var t=".js-popup, .js-modal";$(t).magnificPopup({type:"inline",preloader:!1,modal:!0,closeOnContentClick:!1,closeOnBgClick:!0,enableEscapeKey:!0})}function r(t){if(!t)var t=".js-popup-iframe";$(t).magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1})}function d(t,e){if(e||(e=window.location.href),t){t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),a=i.exec(e);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}}function u(t){return t===Object(t)}function p(){return true}function f(t,e){$.ajax({contentType:"application/x-www-form-urlencoded",url:"{{ settings['register_api_url'] }}",dataType:"json",type:"POST",data:t,headers:{Authorization:"Token bb8dd34ceaf3506a63ee3986d6ab0438becf19a1"},success:function(t,i,a){"function"==typeof e&&e()},error:function(t,i,a,s){var n=JSON.parse(t.responseText);"function"==typeof e&&e(n.errors[0],!0)}})}function m(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}function h(){t(),s(),e(),a(),l(),c(),r(),o(),d(),p(),i()}var v=$(".js-menu"),g="body-nav",k=$(".js-search"),j="body-search";return{init:h,gallery:s,buttonContinue:n,slider:l,popup:c,popupIframe:r,accordion:o,getParam:d,isJson:u,footerPosition:p,sendRegister:f,validateEmail:m}}();!function(t,e){function i(e,i){t.ajax({contentType:"application/x-www-form-urlencoded",url:l,dataType:"json",type:"POST",data:e,headers:{Authorization:"Token bb8dd34ceaf3506a63ee3986d6ab0438becf19a1"},success:function(t,e,a){"function"==typeof i&&i()},error:function(t,e,a,s){var n=JSON.parse(t.responseText);"function"==typeof i&&i(n.errors[0],!0)}})}function a(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}function s(e,i){var a=t(".js-register-form").find('[name="'+e+'"]');return i?a.val(i):a.val()}function n(e){c.hide(),r.html("");var n=!1,o=!1,l=!0,d={first_name:s("first_name"),last_name:s("last_name"),email:s("email"),trap:s("imacat")};setTimeout(function(){d.first_name.length>1&&d.last_name.length>1?o=!0:r.append("<li>Invalid First or Last name</li>"),a(d.email)?n=!0:r.append("<li>Not a valid Email</li>"),d.trap.length>0&&(l=!1,r.append("<li>Cats can not sign up here!</li>")),n&&o&&l?i(e,function(e,i){i?(c.removeClass("errors--green"),c.fadeIn("fast"),r.append("<li>"+e+"</li>")):(t(".js-register-form").find('[name="first_name"]').val(""),t(".js-register-form").find('[name="last_name"]').val(""),t(".js-register-form").find('[name="email"]').val(""),t(".js-register-form--wrapper").hide(),t(".js-register-form--success").show())}):c.fadeIn("fast")},450)}function o(){t(".js-register-form").on("submit",function(e){e.preventDefault(),e.stopPropagation(),n(t(this).serializeArray())}),c.on("click",function(){t(this).fadeOut("fast")})}var l="{{ settings['register_api_url'] }}",c=t(".js-errors"),r=c.find("ul");t(document).on("ready",o())}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIklubGluZUNhcnQuanMiLCJMaW5lSXRlbXMuanMiLCJNb2RhbC5qcyIsIk92ZXJsYXkuanMiLCJTY3JvbGwuanMiLCJTbGlkZXJzLmpzIiwiVG9nZ2xlLmpzIiwiY3VzdG9taXplci1hcHAuanMiLCJzYXZlZm9ybGF0ZXIuanMiLCJzbmFwc2l0cy5qcyIsInRoZW1lLm1pbi5qcyIsInVzZXJzLmpzIl0sIm5hbWVzIjpbIklubGluZUNhcnQiLCIkIiwidW5kZWZpbmVkIiwidG9nZ2xlSW5saW5lQ2FydCIsImNhcnRPcmlnaW4iLCJjYXJ0RW5kIiwiaGFzQ2xhc3MiLCJzaG93Q2xhc3MiLCJhbmltYXRlIiwibGVmdCIsInJpZ2h0IiwidG9nZ2xlQ2xhc3MiLCJpbmxpbmVDYXJ0IiwicmVtb3ZlSXRlbSIsIml0ZW1zIiwiY2IiLCJhamF4IiwibWV0aG9kIiwidXJsIiwiZGF0YSIsInVwZGF0ZXMiLCJjb21wbGV0ZSIsImpxWEhSIiwidGV4dFN0YXR1cyIsImVycm9yVGhyb3duIiwiaXRlbUNvdW50IiwibGVuZ3RoIiwidGV4dCIsInVwZGF0ZUNhcnQiLCJmYWRlSW4iLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwic2V0VGltZW91dCIsImdldCIsInJlc3BvbnNlIiwiaHRtbCIsImFjY29yZGlvbiIsImNvbGxhcHNpYmxlIiwiY2FydE9yZGVyVG9EZWxldGUiLCJlbCIsIml0ZW0iLCJtYXAiLCJ0aGlzIiwiZmFkZU91dCIsInJlbW92ZSIsImF0dHIiLCIkdHJpZ2dlciIsIiRtZW51VHJpZ2dlciIsIiRvdmVybGF5Iiwib24iLCJlIiwiY3NzIiwidHJpZ2dlciIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwicGFyZW50IiwicGFyZW50cyIsIndpbmRvdyIsImpRdWVyeSIsIkxpbmVJdGVtcyIsImlzVmFsaWRPYmplY3RQcm9wZXJ0aWVzIiwib2JqZWN0IiwiaXNWYWxpZCIsInByb3BlcnR5IiwidmFsaWQiLCJhZGQiLCJ2YXJpYW50SWQiLCJxdWFudGl0eSIsInByb3BlcnRpZXMiLCJjYWxsYmFja3MiLCJDYXJ0SlMiLCJhZGRJdGVtIiwicXVhbnRpaXR5IiwiaW5pdCIsIk1vZGFsIiwiYmluZFVJQWN0aW9ucyIsImV2ZW50Iiwic2hvdyIsImhpZGUiLCJtb2RhbE5hbWUiLCJPdmVybGF5IiwiU2Nyb2xsIiwibG9jayIsInVubG9jayIsInJlbW92ZUF0dHIiLCJfdGhpcyIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsIm1lbnVOYW1lIiwiZG9jdW1lbnQiLCJTbGlkZXJzIiwiVG9nZ2xlIiwidG9nZ2xlIiwidGFyZ2V0IiwiaW5pdFJlY292ZXJQYXNzd29yZEZvcm0iLCJsb2NhdGlvbiIsImhhc2giLCJzZW5kVG9DYXJ0IiwiaWQiLCJ0eXBlIiwiaW5mbyIsInNpdGVVcmwiLCJob3N0bmFtZSIsImFkZFVybCIsImNhcnRBZGRVcmwiLCJUeXBlIiwiRm9yIiwicHJvZHVjdE5hbWUiLCJ2YWwiLCJkYXRhVHlwZSIsImFzeW5jIiwic3VjY2VzcyIsInByb2dyZXNzIiwibiIsImkiLCJtYWtlUmVmIiwicmVmIiwicG9zc2libGUiLCJjaGFyQXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJhY3Rpb25CdXR0b25zIiwiX2hpZGUiLCJfaW5wdXQiLCIkYkNhbmNlbCIsIiRiQ2hvb3NlIiwicmVzZXRDdXN0b21pemVyRm9ybSIsInByb3AiLCIkc2xpZGVyIiwic2xpY2siLCJyZXNldEdGSW50cm8iLCIkc2xpZGVyR0YiLCJiU2xpY2siLCJfc2xpZGVyIiwiZmFkZSIsImRyYWdnYWJsZSIsImFycm93cyIsImluZmluaXRlIiwidG91Y2hNb3ZlIiwiYWRhcHRpdmVIZWlnaHQiLCJzcGVlZCIsImNzc0Vhc2UiLCJydW5Qb3B1cCIsIl9wb3B1cCIsIm1hZ25pZmljUG9wdXAiLCJwcmVsb2FkZXIiLCJtb2RhbCIsImNsb3NlT25Db250ZW50Q2xpY2siLCJmaXhlZENvbnRlbnRQb3MiLCJiZWZvcmVPcGVuIiwiYWZ0ZXJDbG9zZSIsImN1cnJlY3RIZWlnaHQiLCIkcG9wdXAiLCIkcG9wdXBHRiIsImN1cnJlbnRTbGlkZSIsIm5leHRTbGlkZSIsIiR0aGlzU2xpZGVyIiwiZmluZCIsImluZGV4IiwiY2xhc3NOYW1lIiwibWF0Y2giLCJqb2luIiwic2xpZGVyTGVuZ3RoR0YiLCJjb25zb2xlIiwibG9nIiwiaGVpZ2h0Iiwic2xpZGVyTGVuZ3RoIiwiZWFjaCIsInRhcmdldENvbG9yIiwiaW5wdXQiLCJpcyIsImNvbG9yIiwia2V5cHJlc3MiLCJtYXgiLCJsZW4iLCJrZXl1cCIsInNlbmRNZSIsImNvbG9yVmFsIiwibGFiZWxFbCIsImxhYmVsIiwiTGFiZWwiLCJDb2xvciIsInQiLCJlcSIsImdvZ28iLCIkZWwiLCJnZXRIZWlnaHQiLCJzbGlkZUhlaWdodCIsImN1cnJlbnQiLCJvcGVuTG9naW4iLCJvcGVuIiwic3JjIiwidmFsaWROdWxsIiwic2F2ZUZvckxhdGVyIiwib2JqIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJlcnJvciIsImFkZG9uc0NvbGxlY3RvciIsIm5hbWUiLCJhYSIsImlJZCIsInRlbXBPYmoiLCJwdXNoIiwic2VuZEFkZG9ucyIsImFkZG9ucyIsInByb2R1Y3RfaWQiLCJwcm9kdWN0X25hbWUiLCJwcm9kdWN0X3ByaWNlIiwicHJvZHVjdF9pbWFnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRvbnNQcm9wZXJ0aWVzIiwidmFyaWFudF9pZCIsIlNob3BpZnkiLCJwcm9kdWN0IiwidGl0bGUiLCJjdXN0b21lciIsInVzZXJfaWQiLCJlbWFpbCIsInNhdmVkU3VpdCIsIlJlZiIsIkxhcGVsIiwiTGFwZWwgQWRkaXRpb25hbCIsIkJ1dHRvbnMiLCJCdXR0b25zIEFkZGl0aW9uYWwiLCJQb2NrZXRzIiwiUG9ja2V0cyBBZGRpdGlvbmFsIiwiVmVudHMiLCJQYW50cyIsIlBhbnRzIFdhaXN0IiwiUGFudHMgQWRkaXRpb25hbHMiLCJQYW50cyBBZGRpdGlvbmFscyAiLCJQYW50cyBBZGRpdGlvbmFscyAgIiwic2F2ZVN1aXQiLCJwcmljZSIsImltYWdlIiwicHJvZHVjdF91cmwiLCJDb29raWVzIiwidG9TdHJpbmciLCJwYXJzZUpTT04iLCJzYXZlZF9zdGF0dXMiLCJzZXQiLCJleHBpcmVzIiwiY2xpY2siLCJwYXRobmFtZSIsInJlcGxhY2UiLCJzbGljZSIsIkdsb2JhbCIsImRvdHMiLCJhdXRvcGxheSIsImF1dG9wbGF5U3BlZWQiLCJwYXVzZU9uSG92ZXIiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJvIiwicyIsImNsb3Nlc3QiLCJIb21lcGFnZSIsInRoZW1lIiwidWlFdmVudHMiLCJmb290ZXJQb3NpdGlvbiIsIm1lbnUiLCIkbWVudSIsIl9tZW51Q2xhc3MiLCJzZW5kRW1haWwiLCJlbWFpbFZhbCIsImVtYWlsQWpheCIsImNvbnRlbnRUeXBlIiwiZW1haWxPYmoiLCJrZXkiLCJtZXNzYWdlIiwic3ViamVjdCIsImZyb21fZW1haWwiLCJmcm9tX25hbWUiLCJ0byIsIlJlcGx5LVRvIiwiYnRuIiwic2VhcmNoIiwiJHNlYXJjaCIsIl9zZWFyY2hDbGFzcyIsImdhbGxlcnkiLCIkdHVtYiIsIiRmdWxsIiwiX2Z1bGxTcmMiLCJfY2xhc3MiLCJsYXJnZSIsImJ1dHRvbkNvbnRpbnVlIiwicCIsIiRidG4iLCJoZWlnaHRTdHlsZSIsImFjdGl2ZSIsInNsaWRlciIsInBvcHVwIiwiY2xvc2VPbkJnQ2xpY2siLCJlbmFibGVFc2NhcGVLZXkiLCJwb3B1cElmcmFtZSIsImRpc2FibGVPbiIsIm1haW5DbGFzcyIsInJlbW92YWxEZWxheSIsImdldFBhcmFtIiwiaHJlZiIsInJlZ2V4IiwiUmVnRXhwIiwicmVzdWx0cyIsImV4ZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJpc0pzb24iLCJPYmplY3QiLCJzZW5kUmVnaXN0ZXIiLCJmb3JtRGF0YSIsInBhcnNlZERhdGEiLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImVycm9ycyIsInZhbGlkYXRlRW1haWwiLCJyZSIsInRlc3QiLCJyZWdpc3RlckFwaSIsImlucHV0VmFsdWUiLCJ2YWx1ZSIsInJlZ2lzdGVyVXNlciIsIiRlcnJvcnMiLCIkZXJyb3JzTGlzdCIsInZhbGlkRW1haWwiLCJ2YWxpZE5hbWVzIiwidHJhcCIsImZvcm1GaWVsZHMiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiYXBwZW5kIiwidXNlcnNGbG93Iiwic2VyaWFsaXplQXJyYXkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEdBMENBLFFBQUFDLEtBQ0EsR0FBQUMsUUFDQUMsRUFBQSxDQUVBSixHQUFBLFFBQUFLLFNBQUFDLEtBQ0FILEVBQUEsRUFDQUMsUUFHQUosRUFBQSxzQkFBQUssU0FBQUMsS0FDQU4sRUFBQSxRQUFBTyxTQUFBQyxLQUFBLEdBQUEsS0FDQVIsRUFBQSxzQkFBQU8sU0FBQUUsWUFBQSxNQUdBVCxFQUFBLHNDQUFBVSxZQUFBSixHQUVBTixFQUFBLFFBQUFPLFNBQUFDLEtBQUFMLEdBQUEsS0FDQUgsRUFBQVcsR0FBQUosU0FBQUUsTUFBQUwsR0FBQSxLQUdBLFFBQUFRLEdBQUFDLEVBQUFDLEdBQ0FkLEVBQUFlLE1BQ0FDLE9BQUEsT0FDQUMsSUFBQSxrQkFDQUMsTUFDQUMsUUFBQU4sR0FFQU8sU0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEdBQUF4QixFQUFBLFlBQUF5QixNQUNBekIsR0FBQSxrQkFBQTBCLEtBQUFGLEdBRUFHLElBRUEsR0FBQUgsR0FDQXhCLEVBQUEsZ0JBQUE0QixPQUFBLFFBQ0E1QixFQUFBLGtCQUFBNkIsU0FBQSxhQUVBN0IsRUFBQSxrQkFBQThCLFlBQUEsZUFNQSxRQUFBSCxLQUNBSSxXQUFBLFdBQ0EvQixFQUFBZ0MsSUFBQSxzQkFBQSxTQUFBQyxHQUNBakMsRUFBQSxtQkFBQWtDLEtBQUFELEdBQ0FqQyxFQUFBLGtCQUFBOEIsWUFBQSxZQUNBOUIsRUFBQSxpQkFBQW1DLFlBQ0FuQyxFQUFBLGlCQUFBbUMsVUFBQSxXQUNBbkMsRUFBQSxpQkFBQW1DLFdBQ0FDLGFBQUEsSUFFQXBDLEVBQUEsa0JBQUEwQixLQUFBMUIs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QUFBRyxpQkFDQUgsRUFBQUksa0JBQ0E2USxFQUFBbFUsRUFBQXlDLE1BQUFvUyxvQkFHQVYsRUFBQW5SLEdBQUEsUUFBQSxXQUNBaEQsRUFBQXlDLE1BQUFDLFFBQUEsVUF2R0EsR0FBQXFSLEdBQUEscUNBQ0FJLEVBQUFuVSxFQUFBLGNBQ0FvVSxFQUFBRCxFQUFBckssS0FBQSxLQXlHQTlKLEdBQUF5RixVQUFBekMsR0FBQSxRQUFBNFIsTUFFQW5SIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKElubGluZUNhcnQsICQsIHVuZGVmaW5lZCkge1xuICB2YXIgJHRyaWdnZXIgPSAkKCcuanMtaW5saW5lLWNhcnQtc2hvdycpO1xuICB2YXIgJG1lbnVUcmlnZ2VyID0gJCgnLm1lbnUtdHJpZ2dlcicpO1xuICB2YXIgJG92ZXJsYXkgPSAkKCcuanMtb3ZlcmxheScpO1xuICB2YXIgaW5saW5lQ2FydCA9ICcuanMtaW5saW5lLWNhcnQnO1xuICB2YXIgc2hvd0NsYXNzID0gJ2lzLWFjdGl2ZSc7XG5cbiAgJCgnLmlubGluZS1uYXZpZ2F0aW9uJykub24oJ2NsaWNrJywgJy5qcy1wb3B1cCcsIGZ1bmN0aW9uKGUpe1xuICAgIGlmKCQoJy5qcy1vdmVybGF5JykuY3NzKCd2aXNpYmlsaXR5JykgPT09IFwidmlzaWJsZVwiKXtcbiAgICAgICQoJy5qcy1vdmVybGF5JykudHJpZ2dlcignY2xpY2snKTtcbiAgICB9O1xuICB9KTtcblxuICAkb3ZlcmxheS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgIGlmICgkKCcuaW5saW5lLW5hdmlnYXRpb24nKS5oYXNDbGFzcyhzaG93Q2xhc3MpKXtcbiAgICAgICQoJ2h0bWwnKS5hbmltYXRlKHsgbGVmdDogMCB9LCAzMDApO1xuICAgICAgJCgnLmlubGluZS1uYXZpZ2F0aW9uJykuYW5pbWF0ZSh7IHJpZ2h0OiAtMzQ1IH0sIDMwMCk7XG4gICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3Moc2hvd0NsYXNzKTtcbiAgICAgICQoJy5pbmxpbmUtbmF2aWdhdGlvbicpLnJlbW92ZUNsYXNzKHNob3dDbGFzcyk7XG4gICAgICAkKCcubWVudS10cmlnZ2VyIC5iYXInKS5yZW1vdmVDbGFzcygnYW5pbWF0ZScpO1xuICAgIH1lbHNlIGlmICgkKGlubGluZUNhcnQpLmhhc0NsYXNzKHNob3dDbGFzcykpe1xuICAgICAgJCgnaHRtbCcpLmFuaW1hdGUoeyBsZWZ0OiAwIH0sIDMwMCk7XG4gICAgICAkKGlubGluZUNhcnQpLmFuaW1hdGUoeyByaWdodDogLTM0NSB9LCAzMDApO1xuICAgICAgJChpbmxpbmVDYXJ0KS5yZW1vdmVDbGFzcyhzaG93Q2xhc3MpO1xuICAgICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKHNob3dDbGFzcyk7XG4gICAgfVxuXG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhzaG93Q2xhc3MpO1xuICB9KTtcblxuICAkbWVudVRyaWdnZXIub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKCQoJy5qcy1pbmxpbmUtY2FydCcpLmhhc0NsYXNzKHNob3dDbGFzcykpe1xuICAgICAgJCgnLmpzLWlubGluZS1jYXJ0LCBodG1sJykudG9nZ2xlQ2xhc3Moc2hvd0NsYXNzKTtcbiAgICAgICQoJ2h0bWwnKS5hbmltYXRlKHsgbGVmdDogMCB9LCAzMDApO1xuICAgICAgJChpbmxpbmVDYXJ0KS5hbmltYXRlKHsgcmlnaHQ6IC0zNDUgfSwgMzAwKTtcbiAgICB9XG4gIH0pO1xuXG4gICR0cmlnZ2VyLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHRvZ2dsZUlubGluZUNhcnQoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gdG9nZ2xlSW5saW5lQ2FydCgpIHtcbiAgICB2YXIgY2FydE9yaWdpbiA9IC0zNDU7XG4gICAgdmFyIGNhcnRFbmQgPSAwO1xuXG4gICAgaWYgKCQoJ2h0bWwnKS5oYXNDbGFzcyhzaG93Q2xhc3MpKXtcbiAgICAgIGNhcnRPcmlnaW4gPSAwO1xuICAgICAgY2FydEVuZCA9IC0zNDU7XG4gICAgfVxuXG4gICAgaWYgKCQoJy5pbmxpbmUtbmF2aWdhdGlvbicpLmhhc0NsYXNzKHNob3dDbGFzcykpIHtcbiAgICAgICQoJ2h0bWwnKS5hbmltYXRlKHsgbGVmdDogMCB9LCAzMDApO1xuICAgICAgJCgnLmlubGluZS1uYXZpZ2F0aW9uJykuYW5pbWF0ZSh7IHJpZ2h0OiAtMzAwIH0sIDMwMCk7XG4gICAgfVxuXG4gICAgJCgnLmpzLWlubGluZS1jYXJ0LCBodG1sLCAuanMtb3ZlcmxheScpLnRvZ2dsZUNsYXNzKHNob3dDbGFzcyk7XG5cbiAgICAkKCdodG1sJykuYW5pbWF0ZSh7IGxlZnQ6IGNhcnRPcmlnaW4gfSwgMzAwKTtcbiAgICAkKGlubGluZUNhcnQpLmFuaW1hdGUoeyByaWdodDogY2FydEVuZCB9LCAzMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlSXRlbShpdGVtcywgY2IpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIHVybDogXCIvY2FydC91cGRhdGUuanNcIixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXBkYXRlczogaXRlbXNcbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICAgIHZhciBpdGVtQ291bnQgPSAkKCcuanMtaXRlbScpLmxlbmd0aDtcbiAgICAgICAgJCgnLmpzLWNhcnQtY291bnQnKS50ZXh0KGl0ZW1Db3VudCk7XG5cbiAgICAgICAgdXBkYXRlQ2FydCgpO1xuXG4gICAgICAgIGlmIChpdGVtQ291bnQgPT0gMCkge1xuICAgICAgICAgICQoJy5qcy1pYy1lbXB0eScpLmZhZGVJbignZmFzdCcpO1xuICAgICAgICAgICQoJy5qcy1pYy1jb250ZW50JykuYWRkQ2xhc3MoJ2lzLWVtcHR5Jyk7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAkKCcuanMtaWMtY29udGVudCcpLnJlbW92ZUNsYXNzKCdpcy1lbXB0eScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNhcnQoKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgJC5nZXQoJy9jYXJ0P3ZpZXc9Y29udGVudHMnLCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAkKCcuanMtaW5saW5lLWNhcnQnKS5odG1sKHJlc3BvbnNlKTtcbiAgICAgICAgJCgnLmpzLWljLWNvbnRlbnQnKS5yZW1vdmVDbGFzcygnaXMtZW1wdHknKTtcbiAgICAgICAgJCggJy5qcy1hY2NvcmRpb24nICkuYWNjb3JkaW9uKCk7XG4gICAgICAgICQoICcuanMtYWNjb3JkaW9uJyApLmFjY29yZGlvbiggJ3JlZnJlc2gnICk7XG4gICAgICAgICQoICcuanMtYWNjb3JkaW9uJyApLmFjY29yZGlvbih7XG4gICAgICAgICAgY29sbGFwc2libGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgICQoJy5qcy1jYXJ0LWNvdW50JykudGV4dCgkKCcuanMtaXRlbScpLmxlbmd0aCk7XG4gICAgICAgIGlmICgkKCcuanMtaXRlbScpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgJCgnLmpzLWljLWVtcHR5JykuZmFkZUluKCdmYXN0Jyk7XG4gICAgICAgICAgJCgnLmpzLWljLWNvbnRlbnQnKS5hZGRDbGFzcygnaXMtZW1wdHknKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICQoJy5qcy1pYy1jb250ZW50JykucmVtb3ZlQ2xhc3MoJ2lzLWVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FydE9yZGVyVG9EZWxldGUoZWwpIHtcbiAgICB2YXIgaXRlbSA9IHt9O1xuICAgIGVsLm1hcChmdW5jdGlvbigpIHtcbiAgICAgICQodGhpcykuZmFkZU91dCgyMDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgIH0pO1xuICAgICAgaXRlbVskKHRoaXMpLmF0dHIoJ2lkJyldID0gMDtcbiAgICB9KTtcblxuICAgIHJldHVybiBpdGVtO1xuICB9XG5cbiAgJCgnLmpzLWlubGluZS1jYXJ0Jykub24oJ2NsaWNrJywgJy5qcy1pYy1yZW1vdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdmFyIHBhcmVudCA9ICQodGhpcykucGFyZW50cygnLmpzLWl0ZW0nKTtcblxuICAgIGlmIChwYXJlbnQuaGFzQ2xhc3MoJ21haW4nKSkge1xuICAgICAgcmVtb3ZlSXRlbShjYXJ0T3JkZXJUb0RlbGV0ZSgkKCdbZGF0YS1yZWY9XCInKyBwYXJlbnQuZGF0YSgncmVmJykgKydcIl0nKSksIGZ1bmN0aW9uKCkge1xuICAgICAgfSk7XG4gICAgfWVsc2Uge1xuICAgICAgcmVtb3ZlSXRlbShjYXJ0T3JkZXJUb0RlbGV0ZSgkKCcjJyArIHBhcmVudC5hdHRyKCdpZCcpKSApLCBmdW5jdGlvbigpIHtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKCQoJy5qcy1pdGVtJykubGVuZ3RoID09IDApIHtcbiAgICAkKCcuanMtaWMtZW1wdHknKS5mYWRlSW4oJ2Zhc3QnKTtcbiAgICAkKCcuanMtaWMtY29udGVudCcpLmFkZENsYXNzKCdpcy1lbXB0eScpO1xuICB9ZWxzZSB7XG4gICAgJCgnLmpzLWljLWNvbnRlbnQnKS5yZW1vdmVDbGFzcygnaXMtZW1wdHknKTtcbiAgfVxuXG4gICQoJyNhZGQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgIHVwZGF0ZUNhcnQoKTtcbiAgICBpZiAoJCgnaHRtbCcpLmhhc0NsYXNzKCdhbmRyb2lkJykgfHwgJCgnaHRtbCcpLmhhc0NsYXNzKCdpb3MnKSkge1xuICAgICAgLy8gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvY2FydFwiO1xuICAgICAgLy8gfSwgNzAwKTtcbiAgICB9ZWxzZXtcbiAgICAgIHNldFRpbWVvdXQodG9nZ2xlSW5saW5lQ2FydCwgNzAwKTtcbiAgICB9XG4gIH0pO1xuXG59KHdpbmRvdy5JbmxpbmVDYXJ0ID0gd2luZG93LklubGluZUNhcnQgfHwge30sIGpRdWVyeSkpO1xuIiwiKGZ1bmN0aW9uIChMaW5lSXRlbXMsICQsIHVuZGVmaW5lZCkge1xuXG4gIC8qXG4gICAqICBEZXBlbmRlbmNpZXM6IHZlbmRvci9jYXJ0LmpzIChodHRwOi8vY2FydGpzLm9yZylcbiAgICpcbiAgICpcbiAgICovXG5cbiAgLy8gVmFyaWFibGVzXG5cbiAgLy8gUHJpdmF0ZVxuICB2YXIgaXNWYWxpZE9iamVjdFByb3BlcnRpZXMgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGlzVmFsaWQgPSB0cnVlO1xuICAgIGZvciAodmFyIHByb3BlcnR5IGluIG9iamVjdCkge1xuICAgICAgaWYgKHByb3BlcnR5ICE9PSAnc3VjY2VzcycgfHwgcHJvcGVydHkgIT09ICdlcnJvcicgfHwgcHJvcGVydHkgIT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXNWYWxpZDtcbiAgfTtcblxuICAvLyBQdWJsaWNcbiAgTGluZUl0ZW1zLmFkZCA9IGZ1bmN0aW9uICh2YXJpYW50SWQsIHF1YW50aXR5LCBwcm9wZXJ0aWVzLCBjYWxsYmFja3MpIHtcbiAgICBpZiAoY2FsbGJhY2tzICE9PSBvYmplY3QgfHwgIWlzVmFsaWRPYmplY3RQcm9wZXJ0aWVzKGNhbGxiYWNrcykpIHtcbiAgICAgIGNhbGxiYWNrcyA9IHt9O1xuICAgIH1cblxuICAgIENhcnRKUy5hZGRJdGVtKHZhcmlhbnRJZCwgcXVhbnRpaXR5LCBwcm9wZXJ0aWVzLCBjYWxsYmFja3MpO1xuICB9O1xuXG4gIExpbmVJdGVtcy5yZW1vdmUgPSBmdW5jdGlvbiAodmFyaWFudElkLCBjYWxsYmFja3MpIHtcbiAgICBpZiAoY2FsbGJhY2tzICE9PSBvYmplY3QgfHwgIWlzVmFsaWRPYmplY3RQcm9wZXJ0aWVzKGNhbGxiYWNrcykpIHtcbiAgICAgIGNhbGxiYWNrcyA9IHt9O1xuICAgIH1cblxuICAgIENhcnRKUy5yZW1vdmVJdGVtKHZhcmlhbnRJZCwgY2FsbGJhY2tzKTtcbiAgfTtcblxuICBMaW5lSXRlbXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICB9O1xuXG59KHdpbmRvdy5MaW5lSXRlbXMgPSB3aW5kb3cuTGluZUl0ZW1zIHx8IHt9LCBqUXVlcnkpKTtcbiIsIihmdW5jdGlvbiAoTW9kYWwsICQsIHVuZGVmaW5lZCkge1xuXG4gIC8qXG4gICAqICBEZXBlbmRlbmNpZXM6IE92ZXJsYXkuanNcbiAgICogICAgICAgICAgICAgICAgY29tcG9uZW50cy9fb3ZlcmxheS5zY3NzXG4gICAqICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvdmVybGF5XCIgZGF0YS1vdmVybGF5PjwvZGl2PiBpbiB0aGVtZS5saXF1aWRcbiAgICpcbiAgICpcbiAgICovXG5cbiAgdmFyIGJpbmRVSUFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtbW9kYWwtc2hvd10nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBNb2RhbC5zaG93KCQodGhpcykuYXR0cignZGF0YS1tb2RhbC1zaG93JykpO1xuICAgIH0pO1xuXG4gICAgJCgnW2RhdGEtbW9kYWwtaGlkZV0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBNb2RhbC5oaWRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgTW9kYWwuc2hvdyA9IGZ1bmN0aW9uIChtb2RhbE5hbWUpIHtcbiAgICBPdmVybGF5LnNob3coKTtcbiAgICBTY3JvbGwubG9jaygpO1xuICAgICQoJ1tkYXRhLW1vZGFsPVwiJyArIG1vZGFsTmFtZSArICdcIl0nKS5mYWRlSW4oMzAwKTtcbiAgICAkKCdib2R5JykuYXR0cignZGF0YS1hY3RpdmUtbW9kYWwnLCBtb2RhbE5hbWUpO1xuICB9O1xuXG4gIE1vZGFsLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgT3ZlcmxheS5oaWRlKCk7XG4gICAgU2Nyb2xsLnVubG9jaygpO1xuICAgICQoJ1tkYXRhLW1vZGFsXScpLmZhZGVPdXQoMzAwKTtcbiAgICAkKCdib2R5JykucmVtb3ZlQXR0cignZGF0YS1hY3RpdmUtbW9kYWwnKTtcbiAgfTtcblxuICBNb2RhbC5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGJpbmRVSUFjdGlvbnMoKTtcbiAgfTtcblxufSh3aW5kb3cuTW9kYWwgPSB3aW5kb3cuTW9kYWwgfHwge30sIGpRdWVyeSkpO1xuIiwiOyhmdW5jdGlvbiAoT3ZlcmxheSwgJCwgdW5kZWZpbmVkKSB7XG5cbiAgLypcbiAgICogIERlcGVuZGVuY3k6IDxkaXYgY2xhc3M9XCJvdmVybGF5XCIgZGF0YS1vdmVybGF5PjwvZGl2PiBpbiB0aGVtZS5saXF1aWQsXG4gICAqICAgICAgICAgICAgICBjb21wb25lbnRzL19vdmVybGF5LnNjc3NcbiAgICpcbiAgICogIE5vdGU6IF9vdmVybGF5LnNjc3MgaG9sZCB0aGUgc3R5bGVzIGZvciB0aGUgb3ZlcmxheSBjb250YWluZXJcbiAgICogIE5vdGU6IC5vdmVybGF5IGhhcyBhIHotaW5kZXggb2YgMTAwMCwgc28gYW55IG1vZGFsIHRoYXQgbmVlZHMgdG8gYXBwZWFyIG9uIHRvcFxuICAgKiAgICAgICAgb2YgdGhlIG92ZXJsYXkgbmVlZCB0byBoYXZlIGFuIHotaW5kZXggb2YgMTAwMStcbiAgICpcbiAgICpcbiAgICovXG5cbiAgdmFyIGJpbmRVSUFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtb3ZlcmxheV0nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBPdmVybGF5LmhpZGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICBPdmVybGF5LnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtb3ZlcmxheV0nKS5mYWRlSW4oMzAwKTtcbiAgfTtcblxuICBPdmVybGF5LmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtb3ZlcmxheV0nKS5mYWRlT3V0KDMwMCk7XG4gIH07XG5cbiAgT3ZlcmxheS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGJpbmRVSUFjdGlvbnMoKTtcbiAgfTtcblxufSh3aW5kb3cuT3ZlcmxheSA9IHdpbmRvdy5PdmVybGF5IHx8IHt9LCBqUXVlcnkpKTtcbiIsIjsoZnVuY3Rpb24gKFNjcm9sbCwgJCwgdW5kZWZpbmVkKSB7XG4gIC8qXG4gICAqICBEZXBlbmRlbmN5OiBjb21wb25lbnRzL19zY3JvbGwuc2Nzc1xuICAgKi9cblxuICB2YXIgYmluZFVJQWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAkKCcuanMtc2Nyb2xsJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICB2YXIgX3RoaXMgPSAkKHRoaXMpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgc2Nyb2xsVG9wOiAkKF90aGlzLmF0dHIoJ2hyZWYnKSkub2Zmc2V0KCkudG9wXG4gICAgICB9LCAxMDAwKTtcbiAgICB9KTtcbiAgfTtcblxuICBTY3JvbGwubG9jayA9IGZ1bmN0aW9uIChtZW51TmFtZSkge1xuICAgICQoJ2h0bWwsIGJvZHknKS5hZGRDbGFzcygnbm8tc2Nyb2xsJyk7XG4gIH07XG5cbiAgU2Nyb2xsLnVubG9jayA9IGZ1bmN0aW9uIChtZW51TmFtZSkge1xuICAgICQoJ2h0bWwsIGJvZHknKS5yZW1vdmVDbGFzcygnbm8tc2Nyb2xsJyk7XG4gIH07XG5cbiAgJChkb2N1bWVudCkub24oJ3JlYWR5JywgYmluZFVJQWN0aW9ucygpKTtcblxufSh3aW5kb3cuU2Nyb2xsID0gd2luZG93LlNjcm9sbCB8fCB7fSwgalF1ZXJ5KSk7XG4iLCI7KGZ1bmN0aW9uIChTbGlkZXJzLCAkLCB1bmRlZmluZWQpIHtcblxuICB2YXIgaW5pdFNsaWRlcnMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgfTtcblxuICB2YXIgYmluZFVJQWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcblxuICB9O1xuXG4gIFNsaWRlcnMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICB9O1xuXG59KHdpbmRvdy5TbGlkZXJzID0gd2luZG93LlNsaWRlcnMgfHwge30sIGpRdWVyeSkpO1xuIiwiOyhmdW5jdGlvbiAoVG9nZ2xlLCAkLCB1bmRlZmluZWQpIHtcblxuICBUb2dnbGUudG9nZ2xlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICQodGFyZ2V0KS50b2dnbGUoKTtcbiAgfTtcblxuICB2YXIgaW5pdFJlY292ZXJQYXNzd29yZEZvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoID09PSAnI3JlY292ZXInKSB7XG4gICAgICBUb2dnbGUudG9nZ2xlKCcjY3VzdG9tZXItbG9naW4tZm9ybSwgI3JlY292ZXItcGFzc3dvcmQtZm9ybScpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgYmluZFVJQWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS10b2dnbGVdJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBUb2dnbGUudG9nZ2xlKCQodGhpcykuZGF0YSgndGFyZ2V0JykpO1xuICAgIH0pO1xuICB9O1xuXG4gIFRvZ2dsZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGJpbmRVSUFjdGlvbnMoKTtcbiAgICBpbml0UmVjb3ZlclBhc3N3b3JkRm9ybSgpO1xuICB9O1xuXG59KHdpbmRvdy5Ub2dnbGUgPSB3aW5kb3cuVG9nZ2xlIHx8IHt9LCBqUXVlcnkpKTtcbiIsIihmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciByZWYgPSBtYWtlUmVmKCk7XG4gICQoJy5qcy1wcm9kdWN0LWluZm8nKS5kYXRhKCdyZWYnLCByZWYpO1xuICAkKCcuanMtcHJvZHVjdC1yZWYnKS52YWwocmVmKTtcblxuICB2YXIgJHBvcHVwICAgICAgICA9ICQoJy5qcy1hcHAtcG9wdXAnKTtcbiAgdmFyICRzbGlkZXIgICAgICAgPSAkKCcuanMtYXBwLXNsaWRlcicpO1xuICB2YXIgJHBvcHVwR0YgICAgICA9ICQoJy5qcy1nZXQtZml0dGVkLXBvcHVwJyk7XG4gIHZhciAkc2xpZGVyR0YgICAgID0gJCgnLmpzLWdldC1maXR0ZWQtc2xpZGVyJyk7XG4gIHZhciBwcm9kdWN0SWQgICAgID0gJCgnLmpzLXByb2R1Y3QtaW5mbycpLmRhdGEoJ2lkJyk7XG4gIHZhciBwcm9kdWN0TmFtZSAgID0gJCgnLmpzLXByb2R1Y3QtaW5mbycpLmRhdGEoJ25hbWUnKTtcbiAgdmFyIHByb2R1Y3RSZWYgICAgPSAkKCcuanMtcHJvZHVjdC1pbmZvJykuZGF0YSgncmVmJyk7XG4gIHZhciBjdXJyZWN0SGVpZ2h0O1xuXG4gIGZ1bmN0aW9uIHNlbmRUb0NhcnQoaWQsIHR5cGUsIGluZm8pe1xuICAgIHZhciBzaXRlVXJsICAgID0gZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWU7XG4gICAgdmFyIGFkZFVybCAgICAgPSBcIi9jYXJ0L2FkZC5qc1wiO1xuICAgIHZhciBjYXJ0QWRkVXJsID0gXCIvL1wiICsgc2l0ZVVybCArIGFkZFVybDtcblxuICAgIGlmICghaW5mbyl7XG4gICAgICBpbmZvID0ge1xuICAgICAgICAnVHlwZSc6IHR5cGUsXG4gICAgICAgICdGb3InOiBwcm9kdWN0TmFtZSArIFwiIChcIiArICQoJy5qcy1wcm9kdWN0LXJlZicpLnZhbCgpICsgXCIpXCJcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiBjYXJ0QWRkVXJsLFxuICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgZGF0YToge1xuICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBwcm9wZXJ0aWVzOiBpbmZvXG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSl7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9ncmVzcyhuKXtcbiAgICB2YXIgaTtcbiAgICAkKCcubWZwLWNvbnRlbnQgW2RhdGEtc2xpZGU9XCInICsgbiArICdcIl0nKS5hZGRDbGFzcygnZG9uZScpO1xuICAgICQoJy5tZnAtY29udGVudCAuZG9uZScpLnJlbW92ZUNsYXNzKCdkb25lJyk7XG4gICAgZm9yIChpID0gMDsgaSA8IG47IGkrKyl7XG4gICAgICAkKCcubWZwLWNvbnRlbnQgW2RhdGEtc2xpZGU9XCInICsgaSArICdcIl0nKS5hZGRDbGFzcygnZG9uZScpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VSZWYoKXtcbiAgICB2YXIgcmVmID0gXCJcIjtcbiAgICB2YXIgcG9zc2libGUgPSBcIjAxMjM0NTY3ODlcIjtcbiAgICBmb3IoIHZhciBpPTA7IGkgPCAxMDsgaSsrIClcbiAgICAgICAgcmVmICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICByZXR1cm4gcmVmO1xuICB9XG5cbiAgZnVuY3Rpb24gYWN0aW9uQnV0dG9ucyhfaGlkZSwgX2lucHV0KSB7XG4gICAgdmFyICRiQ2FuY2VsID0gJCgnLmpzLXN0aXRjaGluZy1jYW5jZWwnKTtcbiAgICB2YXIgJGJDaG9vc2UgPSAkKCcuanMtc3RpdGNoaW5nLWNob29zZScpO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgJGJDYW5jZWwuZGF0YSgnaGlkZScsIF9oaWRlKTtcbiAgICAgICRiQ2FuY2VsLmRhdGEoJ2lucHV0LXJlc2V0JywgX2lucHV0KTtcbiAgICAgICRiQ2hvb3NlLmRhdGEoJ2hpZGUnLCBfaGlkZSk7XG4gICAgfSwgMTAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0Q3VzdG9taXplckZvcm0oKSB7XG4gICAgJCgnLnN0ZXAtc2xpZGVfX2lucHV0JykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAkKCdbZGF0YS1kZWZhdWx0PVwiY2hlY2tlZFwiXScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICAkc2xpZGVyLnNsaWNrKCd1bnNsaWNrJyk7XG4gICAgcHJvZ3Jlc3MoMSk7XG4gICAgJCgnLmpzLWFjdGlvbi1maW5pc2gnKS5oaWRlKCk7XG4gICAgJCgnLmpzLWFjdGlvbi1uZXh0Jykuc2hvdygpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRHRkludHJvKCkge1xuICAgICRzbGlkZXJHRi5zbGljaygndW5zbGljaycpO1xuICB9XG5cbiAgZnVuY3Rpb24gYlNsaWNrKF9zbGlkZXIsIGZhZGUpe1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge1xuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgIGFycm93czogZmFsc2UsXG4gICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICB0b3VjaE1vdmU6IGZhbHNlLFxuICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWVcbiAgICB9O1xuXG4gICAgaWYgKGZhZGUpe1xuICAgICAgcHJvcGVydGllcyA9IHtcbiAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgaW5maW5pdGU6IGZhbHNlLFxuICAgICAgICB0b3VjaE1vdmU6IGZhbHNlLFxuICAgICAgICBzcGVlZDogMjAwLFxuICAgICAgICBmYWRlOiB0cnVlLFxuICAgICAgICBjc3NFYXNlOiAnbGluZWFyJyxcbiAgICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgX3NsaWRlci5zbGljayhwcm9wZXJ0aWVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1blBvcHVwKF9wb3B1cCwgX3NsaWRlciwgZmFkZSkge1xuICAgIF9wb3B1cC5tYWduaWZpY1BvcHVwKHtcbiAgICAgIHR5cGU6ICdpbmxpbmUnLFxuICAgICAgcHJlbG9hZGVyOiBmYWxzZSxcbiAgICAgIG1vZGFsOiB0cnVlLFxuICAgICAgY2xvc2VPbkNvbnRlbnRDbGljazogZmFsc2UsXG4gICAgICBmaXhlZENvbnRlbnRQb3M6IGZhbHNlLFxuICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hZGRDbGFzcygnbm8tc2Nyb2xsJyk7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgYlNsaWNrKF9zbGlkZXIsIGZhZGUpO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5yZW1vdmVDbGFzcygnbm8tc2Nyb2xsJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gICQoZnVuY3Rpb24gKCkge1xuXG4gICAgcnVuUG9wdXAoJHBvcHVwLCAkc2xpZGVyLCBmYWxzZSk7XG4gICAgcnVuUG9wdXAoJHBvcHVwR0YsICRzbGlkZXJHRiwgdHJ1ZSk7XG5cbiAgICRzbGlkZXJHRi5vbignaW5pdCcsIGZ1bmN0aW9uKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlLCBuZXh0U2xpZGUpe1xuICAgICAgcHJvZ3Jlc3MoMSk7XG4gICAgICB2YXIgJHRoaXNTbGlkZXIgPSAkKCcubWZwLWNvbnRlbnQnKS5maW5kKCcuanMtZ2V0LWZpdHRlZC1zbGlkZXInKTtcbiAgICAgICAkdGhpc1NsaWRlci5yZW1vdmVDbGFzcyAoZnVuY3Rpb24gKGluZGV4LCBjbGFzc05hbWUpIHtcbiAgICAgICAgIHJldHVybiAoY2xhc3NOYW1lLm1hdGNoICgvKF58XFxzKXNsaWRlLVxcUysvZykgfHwgW10pLmpvaW4oJyAnKTtcbiAgICAgICB9KTtcbiAgICAgICAgJHRoaXNTbGlkZXIuYWRkQ2xhc3MoJ3NsaWRlLTAnKTtcbiAgIH0pO1xuICAgJHNsaWRlckdGLm9uKCdiZWZvcmVDaGFuZ2UnLCBmdW5jdGlvbihldmVudCwgc2xpY2ssIGN1cnJlbnRTbGlkZSwgbmV4dFNsaWRlKXtcbiAgICAgdmFyIHNsaWRlckxlbmd0aEdGID0gJCgnLm1mcC1jb250ZW50IC5zbGljay1pbml0aWFsaXplZCAuc3RlcC1pdGVtJykubGVuZ3RoIC0gMTtcblxuICAgICBjb25zb2xlLmxvZygnc2xpZGVyTGVuZ3RoR0YnLCBzbGlkZXJMZW5ndGhHRik7XG4gICAgIGNvbnNvbGUubG9nKCduZXh0U2xpZGUnLCBuZXh0U2xpZGUpO1xuICAgICBjb25zb2xlLmxvZygnY3VycmVudFNsaWRlJywgY3VycmVudFNsaWRlKTtcblxuICAgICAkKCcubWZwLWNvbnRlbnQnKS5maW5kKCcuc2xpY2staW5pdGlhbGl6ZWQnKS5yZW1vdmVDbGFzcygnc2xpZGUtJytjdXJyZW50U2xpZGUpO1xuICAgICAkKCcubWZwLWNvbnRlbnQnKS5maW5kKCcuc2xpY2staW5pdGlhbGl6ZWQnKS5hZGRDbGFzcygnc2xpZGUtJytuZXh0U2xpZGUpO1xuXG4gICAgIHByb2dyZXNzKG5leHRTbGlkZSArIDEpO1xuXG4gICAgIGlmIChuZXh0U2xpZGUgPT09IHNsaWRlckxlbmd0aEdGKXtcbiAgICAgICBjb25zb2xlLmxvZygnTGFzdCcpO1xuICAgICAgICQoJy5tZnAtY29udGVudCAuc2xpY2stc2xpZGVyJykuYWRkQ2xhc3MoJ3NsaWRlLWxhc3QnKTtcbiAgICAgICAkKCcubWZwLWNvbnRlbnQgLmlwaG9uZS5qcy1zYWZhcmkgLmpzLWludHJvLW5leHQtYWx0Jykuc2hvdygpO1xuICAgICAgICQoJy5tZnAtY29udGVudCAuaXBob25lLmpzLXNhZmFyaSAuanMtaW50cm8tbmV4dCcpLmhpZGUoKTtcbiAgICAgICAkKCcubWZwLWNvbnRlbnQgLmpzLWFjdGlvbnMtbW9iaWxlLS1uZXh0JykuaGlkZSgpO1xuICAgICAgICQoJy5tZnAtY29udGVudCAuanMtYWN0aW9ucy1tb2JpbGUtLW5leHQtYWx0Jykuc2hvdygpO1xuXG4gICAgIH1lbHNlIGlmKG5leHRTbGlkZSA8IHNsaWRlckxlbmd0aEdGKXtcbiAgICAgICAkKCcubWZwLWNvbnRlbnQgLnNsaWNrLXNsaWRlcicpLnJlbW92ZUNsYXNzKCdzbGlkZS1sYXN0Jyk7XG4gICAgICAgJCgnLm1mcC1jb250ZW50IC5pcGhvbmUuanMtc2FmYXJpIC5qcy1pbnRyby1uZXh0Jykuc2hvdygpO1xuICAgICAgICQoJy5tZnAtY29udGVudCAuaXBob25lLmpzLXNhZmFyaSAuanMtaW50cm8tbmV4dC1hbHQnKS5oaWRlKCk7XG4gICAgICAgJCgnLm1mcC1jb250ZW50IC5qcy1hY3Rpb25zLW1vYmlsZS0tbmV4dCcpLnNob3coKTtcbiAgICAgICAkKCcubWZwLWNvbnRlbnQgLmpzLWFjdGlvbnMtbW9iaWxlLS1uZXh0LWFsdCcpLmhpZGUoKTtcbiAgICAgICAkKCcubWZwLWNvbnRlbnQgLmpzLWFjdGlvbi1uZXh0Jykuc2hvdygpO1xuICAgICB9XG5cbiAgICAgaWYobmV4dFNsaWRlID09IDApe1xuICAgICAgICQoJy5tZnAtY29udGVudCAuanMtYWN0aW9ucy1tb2JpbGUnKS5hZGRDbGFzcygnZGVzdHJveScpO1xuICAgICB9ZWxzZXtcbiAgICAgICAkKCcubWZwLWNvbnRlbnQgLmpzLWFjdGlvbnMtbW9iaWxlJykucmVtb3ZlQ2xhc3MoJ2Rlc3Ryb3knKTtcbiAgICAgfVxuXG4gICB9KTtcblxuICAgJHNsaWRlci5vbignaW5pdCcsIGZ1bmN0aW9uKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlLCBuZXh0U2xpZGUpe1xuICAgICB2YXIgJHRoaXNTbGlkZXIgPSAkKCcubWZwLWNvbnRlbnQnKS5maW5kKCcuanMtYXBwLXNsaWRlcicpO1xuICAgICBwcm9ncmVzcygxKTtcbiAgICBjdXJyZWN0SGVpZ2h0ID0gJCgnLnNsaWNrLWxpc3QnKS5oZWlnaHQoKTtcbiAgICAgICR0aGlzU2xpZGVyLnJlbW92ZUNsYXNzIChmdW5jdGlvbiAoaW5kZXgsIGNsYXNzTmFtZSkge1xuICAgICAgICByZXR1cm4gKGNsYXNzTmFtZS5tYXRjaCAoLyhefFxccylzbGlkZS1cXFMrL2cpIHx8IFtdKS5qb2luKCcgJyk7XG4gICAgICB9KTtcbiAgICAgICAkdGhpc1NsaWRlci5hZGRDbGFzcygnc2xpZGUtMCcpO1xuICAgfSk7XG5cbiAgICRzbGlkZXIub24oJ2JlZm9yZUNoYW5nZScsIGZ1bmN0aW9uKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlLCBuZXh0U2xpZGUpe1xuICAgICB2YXIgJHRoaXNTbGlkZXIgPSAkKCcubWZwLWNvbnRlbnQnKS5maW5kKCcuanMtYXBwLXNsaWRlcicpO1xuICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2ZyZWUtc2xpZGUnKSkge1xuICAgICAgcHJvZ3Jlc3MobmV4dFNsaWRlICsgMSk7XG4gICAgIH1cblxuICAgICAkdGhpc1NsaWRlci5yZW1vdmVDbGFzcygnc2xpZGUtJytjdXJyZW50U2xpZGUpO1xuICAgICAkdGhpc1NsaWRlci5hZGRDbGFzcygnc2xpZGUtJytuZXh0U2xpZGUpO1xuICAgICB2YXIgc2xpZGVyTGVuZ3RoID0gJCgnLm1mcC1jb250ZW50IC5zbGljay1pbml0aWFsaXplZCAuc3RlcC1zbGlkZScpLmxlbmd0aCAtMTtcblxuICAgICAgaWYgKG5leHRTbGlkZSA9PT0gc2xpZGVyTGVuZ3RoKXtcbiAgICAgICAgJCgnLm1mcC1jb250ZW50IC5zbGljay1zbGlkZXInKS5hZGRDbGFzcygnc2xpZGUtbGFzdCcpO1xuICAgICAgICAkKCcubWZwLWNvbnRlbnQgLmpzLXNhdmUtZm9yLWxhdGVyJykuc2hvdygpO1xuICAgICAgICAkKCcubWZwLWNvbnRlbnQgLmlwaG9uZS5qcy1zYWZhcmkgLmpzLWdmLW5leHQnKS5oaWRlKCk7XG4gICAgICB9ZWxzZSBpZihuZXh0U2xpZGUgPCBzbGlkZXJMZW5ndGgpe1xuICAgICAgICAkKCcubWZwLWNvbnRlbnQgLnNsaWNrLXNsaWRlcicpLnJlbW92ZUNsYXNzKCdzbGlkZS1sYXN0Jyk7XG4gICAgICAgICQoJy5tZnAtY29udGVudCAuanMtYWN0aW9uLWZpbmlzaCcpLmhpZGUoKTtcbiAgICAgICAgJCgnLm1mcC1jb250ZW50IC5qcy1zYXZlLWZvci1sYXRlcicpLmhpZGUoKTtcbiAgICAgICAgJCgnLm1mcC1jb250ZW50IC5pcGhvbmUuanMtc2FmYXJpIC5qcy1nZi1maW5pc2gnKS5oaWRlKCk7XG4gICAgICAgICQoJy5tZnAtY29udGVudCAuaXBob25lLmpzLXNhZmFyaSAuanMtZ2YtbmV4dCcpLnNob3coKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgJCgnLmpzLXN0ZXAnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAkc2xpZGVyLnNsaWNrKCdzbGlja0dvVG8nLCAkKHRoaXMpLmRhdGEoJ2dvJyksIHRydWUpO1xuICAgfSk7XG5cbiAgICQoJy5qcy1hcHAtbmV4dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICBpZigkKCcuc2xpY2stc2xpZGVyJykuaGFzQ2xhc3MoJ2pzLWdldC1maXR0ZWQtc2xpY2snKSl7XG4gICAgICAgIGlmKCQoJy5zbGljay1zbGlkZXIgW25hbWU9XCJpbnB1dF9oZWlnaHRcIl0nKS52YWwoKSAhPSBcIlwiICYmICQoJy5zbGljay1zbGlkZXIgW25hbWU9XCJpbnB1dF93ZWlnaHRcIl0nKS52YWwoKSAhPSBcIlwiICYmICQoJy5zbGljay1zbGlkZXIgW25hbWU9XCJpbnB1dF9hZ2VcIl0nKS52YWwoKSAhPSBcIlwiICYmICQoJy5zbGljay1zbGlkZXIgW25hbWU9XCJpbnB1dF93YWlzdF9zaXplXCJdJykudmFsKCkgIT0gXCJcIiAmJiAkKCcuc2xpY2stc2xpZGVyIFtuYW1lPVwiaW5wdXRfc2hvZV9zaXplXCJdJykudmFsKCkgIT0gXCJcIiAmJiAkKCcuc2xpY2stc2xpZGVyIFtuYW1lPVwiaW5wdXRfcGFudHNfbGVuZ3RoX3NpemVcIl0nKS52YWwoKSAhPSBcIlwiKXtcbiAgICAgICAgICAkKCcuc2xpY2stc2xpZGVyJykuc2xpY2soJ3NsaWNrTmV4dCcpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAkKCcuanMtZ2V0LWZpdHRlZC1zbGljayAuanMtcmVxdWlyZWQnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZXJyb3InKTtcbiAgICAgICAgICAgIGlmKCQodGhpcykudmFsKCkgPT0gXCJcIil7XG4gICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2Vycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICAkKCcuc2xpY2stc2xpZGVyJykuc2xpY2soJ3NsaWNrTmV4dCcpO1xuICAgICAgfVxuICAgfSk7XG5cbiAgICQoJy5qcy1hcHAtbmV4dC1jbScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICBpZigkKCcuc2xpY2stc2xpZGVyJykuaGFzQ2xhc3MoJ2pzLWdmLWN1c3RvbScpICYmICQoJy5zbGljay1zbGlkZXInKS5oYXNDbGFzcygnc2xpZGUtMCcpKXtcbiAgICAgICAgJCgnLnNsaWNrLXNsaWRlcicpLnNsaWNrKCdzbGlja05leHQnKTtcbiAgICAgIH1lbHNlIGlmKCQoJy5zbGljay1zbGlkZXInKS5oYXNDbGFzcygnanMtZ2YtY3VzdG9tJykgJiYgJCgnLnNsaWNrLXNsaWRlcicpLmhhc0NsYXNzKCdzbGlkZS0xJykpe1xuICAgICAgICBpZigkKCcuc2xpY2stc2xpZGVyIFtuYW1lPVwiaW5wdXRfaGVpZ2h0XCJdJykudmFsKCkgIT0gXCJcIiAmJiAkKCcuc2xpY2stc2xpZGVyIFtuYW1lPVwiaW5wdXRfd2VpZ2h0XCJdJykudmFsKCkgIT0gXCJcIiAmJiAkKCcuc2xpY2stc2xpZGVyIFtuYW1lPVwiaW5wdXRfYWdlXCJdJykudmFsKCkgIT0gXCJcIiAmJiAkKCcuc2xpY2stc2xpZGVyIFtuYW1lPVwiaW5wdXRfd2Fpc3Rfc2l6ZVwiXScpLnZhbCgpICE9IFwiXCIgJiYgJCgnLnNsaWNrLXNsaWRlciBbbmFtZT1cImlucHV0X3Nob2Vfc2l6ZVwiXScpLnZhbCgpICE9IFwiXCIgJiYgJCgnLnNsaWNrLXNsaWRlciBbbmFtZT1cImlucHV0X3BhbnRzX2xlbmd0aF9zaXplXCJdJykudmFsKCkgIT0gXCJcIil7XG4gICAgICAgICAgJCgnLnNsaWNrLXNsaWRlcicpLnNsaWNrKCdzbGlja05leHQnKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJCgnLmpzLWdmLWN1c3RvbSAuanMtcmVxdWlyZWQnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZXJyb3InKTtcbiAgICAgICAgICAgIGlmKCQodGhpcykudmFsKCkgPT0gXCJcIil7XG4gICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2Vycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1lbHNlIGlmICgkKCcuc2xpY2stc2xpZGVyJykuaGFzQ2xhc3MoJ2pzLWdmLWN1c3RvbScpICYmICQoJy5zbGljay1zbGlkZXInKS5oYXNDbGFzcygnc2xpZGUtMicpKSB7XG4gICAgICAgIGlmICgkKCcuc2xpY2stc2xpZGVyIFtuYW1lPVwiaW5wdXRfamFja2V0X25lY2tfc2l6ZVwiXScpLnZhbCgpICE9IFwiXCIgJiYgJCgnLnNsaWNrLXNsaWRlciBbbmFtZT1cImlucHV0X2phY2tldF9zaG91bGRlcl9zaXplXCJdJykudmFsKCkgIT0gXCJcIiAmJiAkKCcuc2xpY2stc2xpZGVyIFtuYW1lPVwiaW5wdXRfamFja2V0X2JpY2Vwc19zaXplXCJdJykudmFsKCkgIT0gXCJcIiAmJiAkKCcuc2xpY2stc2xpZGVyIFtuYW1lPVwiaW5wdXRfamFja2V0X2xlbmd0aFwiXScpLnZhbCgpICE9IFwiXCIgJiYgJCgnLnNsaWNrLXNsaWRlciBbbmFtZT1cImlucHV0X2phY2tldF9zbGVldmVfc2l6ZVwiXScpLnZhbCgpICE9IFwiXCIgJiYgJCgnLnNsaWNrLXNsaWRlciBbbmFtZT1cImlucHV0X2phY2tldF9jaGVzdF9zaXplXCJdJykudmFsKCkgIT0gXCJcIiAmJiAkKCcuc2xpY2stc2xpZGVyIFtuYW1lPVwiaW5wdXRfamFja2V0X3dhaXN0X3NpemVcIl0nKS52YWwoKSAhPSBcIlwiKSB7XG4gICAgICAgICAgJCgnLnNsaWNrLXNsaWRlcicpLnNsaWNrKCdzbGlja05leHQnKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICQoJy5qcy1nZi1jdXN0b20gLmpzLXJlcXVpcmVkJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XG4gICAgICAgICAgICBpZigkKHRoaXMpLnZhbCgpID09IFwiXCIpe1xuICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdlcnJvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9ZWxzZSBpZiAoJCgnLnNsaWNrLXNsaWRlcicpLmhhc0NsYXNzKCdqcy1nZi1jdXN0b20nKSAmJiAkKCcuc2xpY2stc2xpZGVyJykuaGFzQ2xhc3MoJ3NsaWRlLTQnKSkge1xuICAgICAgICBpZiAoJCgnLnNsaWNrLXNsaWRlciBbbmFtZT1cImlucHV0X3BhbnRzX3dhaXN0X3NpemVcIl0nKS52YWwoKSAhPSBcIlwiICYmICQoJy5zbGljay1zbGlkZXIgW25hbWU9XCJpbnB1dF9wYW50c19sZW5ndGhcIl0nKS52YWwoKSAhPSBcIlwiICYmICQoJy5zbGljay1zbGlkZXIgW25hbWU9XCJpbnB1dF9wYW50c19oaXBzX3NpemVcIl0nKS52YWwoKSAhPSBcIlwiICYmICQoJy5zbGljay1zbGlkZXIgW25hbWU9XCJpbnB1dF9wYW50c19jcm90Y2hfc2l6ZVwiXScpLnZhbCgpICE9IFwiXCIgJiYgJCgnLnNsaWNrLXNsaWRlciBbbmFtZT1cImlucHV0X3BhbnRzX3RoaWdoX3NpemVcIl0nKS52YWwoKSAhPSBcIlwiICYmICQoJy5zbGljay1zbGlkZXIgW25hbWU9XCJpbnB1dF9wYW50c19rbmVlX3NpemVcIl0nKS52YWwoKSAhPSBcIlwiKSB7XG4gICAgICAgICAgJCgnLnNsaWNrLXNsaWRlcicpLnNsaWNrKCdzbGlja05leHQnKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICQoJy5qcy1nZi1jdXN0b20gLmpzLXJlcXVpcmVkJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XG4gICAgICAgICAgICBpZigkKHRoaXMpLnZhbCgpID09IFwiXCIpe1xuICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdlcnJvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgJCgnLnNsaWNrLXNsaWRlcicpLnNsaWNrKCdzbGlja05leHQnKTtcbiAgICAgIH1cbiAgIH0pO1xuXG4gICQoJy5qcy1hcHAtcmViZWwtbmV4dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgJCgnLnNsaWNrLXNsaWRlcicpLnNsaWNrKCdzbGlja05leHQnKTtcbiAgfSk7XG5cbiAgICQoJy5qcy1hcHAtcHJldicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICQoJy5zbGljay1zbGlkZXInKS5zbGljaygnc2xpY2tQcmV2Jyk7XG4gICB9KTtcblxuICAgJCgnW2RhdGEtdG9nZ2xlXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgIHZhciB0YXJnZXQgPSAkKHRoaXMpLmRhdGEoJ3RvZ2dsZScpO1xuICAgICAkKHRhcmdldCkudG9nZ2xlKCk7XG4gICB9KTtcblxuICAgJCgnW2RhdGEtaW5wdXQtcmVzZXRdJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgdmFyIHRhcmdldCA9ICQodGhpcykuZGF0YSgnaW5wdXQtcmVzZXQnKTtcbiAgICAgdmFyIHRhcmdldENvbG9yID0gJCh0YXJnZXQpLmRhdGEoJ2NvbG9yJyk7XG5cbiAgICAgJCh0YXJnZXQgKyAnOmNoZWNrZWQnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAkKHRhcmdldCArICdbdHlwZT1cInJhZGlvXCJdJykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgICAkKHRhcmdldENvbG9yICsgJ1t2YWx1ZT1cIlNhbWUgYXMgU3VpdFwiXScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgIH0pO1xuXG4gICAkKCdbZGF0YS1oaWRlXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgIHZhciBpbnB1dCA9ICQodGhpcykuZGF0YSgnaW5wdXQnKTtcbiAgICAgdmFyIHRhcmdldCA9ICQodGhpcykuZGF0YSgnaGlkZScpO1xuICAgICB2YXIgc2hvdyA9ICQodGhpcykuZGF0YSgnaGlkZScpO1xuICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgaWYgKCEkKGlucHV0KS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICQodGFyZ2V0KS5oaWRlKCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHZhciBjb2xvciA9ICQoaW5wdXQpLmRhdGEoJ2NvbG9yJyk7XG4gICAgICAgICAgaWYgKCQoY29sb3IgKyAnOmNoZWNrZWQnKS52YWwoKSAhPSBcIlNhbWUgYXMgU3VpdFwiKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAkKGlucHV0KS5wcm9wKCBcImNoZWNrZWRcIiwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgJChjb2xvciArIFwiW3ZhbHVlPSdTYW1lIGFzIFN1aXQnXVwiKS5wcm9wKCBcImNoZWNrZWRcIiwgdHJ1ZSApO1xuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICQodGFyZ2V0KS5oaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgIH1lbHNle1xuICAgICAgJCh0YXJnZXQpLmhpZGUoKTtcbiAgICAgfVxuICAgfSk7XG5cbiAgJCgnW2RhdGEtc2hvd10nKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICB2YXIgaW5wdXQgPSAkKHRoaXMpLmRhdGEoJ2lucHV0Jyk7XG4gICAgIHZhciB0YXJnZXQgPSAkKHRoaXMpLmRhdGEoJ3Nob3cnKTtcbiAgICAgdmFyIGhpZGUgPSAkKHRoaXMpLmRhdGEoJ3Nob3cnKTtcbiAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgIGlmICghJChpbnB1dCkuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgICAkKHRhcmdldCkuc2hvdygpO1xuICAgICAgICAgIGFjdGlvbkJ1dHRvbnMoaGlkZSwgaW5wdXQpO1xuICAgICAgICAgICQoJy5qcy1hY3Rpb25zJykudG9nZ2xlKCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHZhciBjb2xvciA9ICQoaW5wdXQpLmRhdGEoJ2NvbG9yJyk7XG4gICAgICAgICAgaWYgKCQoY29sb3IgKyAnOmNoZWNrZWQnKS52YWwoKSAhPSBcIlNhbWUgYXMgU3VpdFwiKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAkKGlucHV0KS5wcm9wKCBcImNoZWNrZWRcIiwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgJChjb2xvciArIFwiW3ZhbHVlPSdTYW1lIGFzIFN1aXQnXVwiKS5wcm9wKCBcImNoZWNrZWRcIiwgdHJ1ZSApO1xuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICQodGFyZ2V0KS5zaG93KCk7XG4gICAgICAgICAgICBhY3Rpb25CdXR0b25zKGhpZGUsIGlucHV0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgfWVsc2V7XG4gICAgICAkKHRhcmdldCkuc2hvdygpO1xuICAgICB9XG4gICB9KTtcblxuICAgJCgnW25hbWU9XCJwcm9wZXJ0eS1zdGl0Y2hpbmdcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICBpZigkKHRoaXMpLmF0dHIoJ3R5cGUnKSA9PSAncmFkaW8nKXtcbiAgICAgICAkKCdbbmFtZT1cInByb3BlcnR5LXN0aXRjaGluZ1wiXScpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSlcbiAgICAgICAkKCdbbmFtZT1cInByb3BlcnR5LXN0aXRjaGluZ1wiXVt0eXBlPVwicmFkaW9cIl0nKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSlcbiAgICAgfWVsc2V7XG4gICAgICAgJCgnW25hbWU9XCJwcm9wZXJ0eS1zdGl0Y2hpbmdcIl1bdHlwZT1cInJhZGlvXCJdJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKVxuICAgICB9XG4gICB9KTtcblxuICAgJCgnLmpzLW1vbm9ncmFtZWQtaW5wdXQnKS5rZXlwcmVzcyhmdW5jdGlvbihlKXtcbiAgICAgdmFyIG1heCA9IDIwO1xuICAgICB2YXIgbGVuID0gJCh0aGlzKS52YWwoKS5sZW5ndGg7XG4gICAgIGlmIChsZW4gPj0gbWF4KSB7XG4gICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICB9XG4gICB9KTtcblxuICAgJCgnLmpzLW1vbm9ncmFtZWQtaW5wdXQnKS5rZXl1cChmdW5jdGlvbiAoZSkge1xuICAgICB2YXIgbWF4ID0gMjA7XG4gICAgIHZhciBsZW4gPSAkKHRoaXMpLnZhbCgpLmxlbmd0aDtcbiAgICAgaWYgKGxlbiA+PSBtYXgpIHtcbiAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgJCgnLmpzLW1vbm9ncmFtZWQtY291bnQnKS50ZXh0KCcyMCBpcyB0aGUgbGltaXQnKTtcbiAgICAgICAkKCcuanMtbW9ub2dyYW1lZC1jb3VudCcpLmFkZENsYXNzKCdoaWdobGlnaHQnKTtcbiAgICAgfSBlbHNlIHtcbiAgICAgICAkKCcuanMtbW9ub2dyYW1lZC1jb3VudCcpLnRleHQobWF4IC0gbGVuKTtcbiAgICAgICAkKCcuanMtbW9ub2dyYW1lZC1jb3VudCcpLnJlbW92ZUNsYXNzKCdoaWdobGlnaHQnKTtcbiAgICAgfVxuICAgfSk7XG5cbiAgICQoJy5qcy1jdXN0b20tZmluaXNoJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgJCgnLmpzLWFkZG9uJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgaWYgKCQodGhpcykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgIHZhciB0eXBlID0gJCh0aGlzKS5kYXRhKCd0eXBlJyk7XG4gICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgdmFyIGluZm8gPSB7fTtcbiAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJTdGl0Y2hpbmdcIikge1xuICAgICAgICAgICAgIHZhciBjb2xvciA9ICQoX3RoaXMpLmRhdGEoJ2NvbG9yJyk7XG4gICAgICAgICAgICAgdmFyIGNvbG9yVmFsID0gJChjb2xvciArICc6Y2hlY2tlZCcpLnZhbCgpO1xuICAgICAgICAgICAgIGlmICghY29sb3JWYWwpIHtcbiAgICAgICAgICAgICAgIGNvbG9yVmFsID0gXCJTYW1lIGFzIFN1aXRcIjtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgaWYgKCQoX3RoaXMpLmRhdGEoJ25hbWUnKSA9PSAnTW9ub2dyYW1tZWQnKSB7XG4gICAgICAgICAgICAgICB2YXIgbGFiZWxFbCA9ICQoX3RoaXMpLmRhdGEoJ2xhYmVsJyk7XG4gICAgICAgICAgICAgICB2YXIgbGFiZWwgPSAkKGxhYmVsRWwpLnZhbCgpO1xuICAgICAgICAgICAgICAgaW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgJ1R5cGUnOiB0eXBlLFxuICAgICAgICAgICAgICAgICAnRm9yJzogcHJvZHVjdE5hbWUgKyBcIiAoXCIgKyAkKCcuanMtcHJvZHVjdC1yZWYnKS52YWwoKSArIFwiKVwiLFxuICAgICAgICAgICAgICAgICAnTGFiZWwnOiBsYWJlbCxcbiAgICAgICAgICAgICAgICAgJ0NvbG9yJzogY29sb3JWYWxcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGluZm8gPSB7XG4gICAgICAgICAgICAgICAgICdUeXBlJzogdHlwZSxcbiAgICAgICAgICAgICAgICAgJ0Zvcic6IHByb2R1Y3ROYW1lICsgXCIgKFwiICsgJCgnLmpzLXByb2R1Y3QtcmVmJykudmFsKCkgKyBcIilcIixcbiAgICAgICAgICAgICAgICAgJ0NvbG9yJzogY29sb3JWYWxcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgIHNlbmRUb0NhcnQoaWQsIHR5cGUsIGluZm8pO1xuICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgaW5mbyA9IHtcbiAgICAgICAgICAgICAgJ1R5cGUnOiB0eXBlLFxuICAgICAgICAgICAgICAnRm9yJzogcHJvZHVjdE5hbWUgKyBcIiAoXCIgKyAkKCcuanMtcHJvZHVjdC1yZWYnKS52YWwoKSArIFwiKVwiXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2VuZFRvQ2FydChpZCwgdHlwZSk7XG4gICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKTtcbiAgICAgICB9XG4gICAgIH0pO1xuICAgICBmdW5jdGlvbiBzZW5kTWUoKSB7XG4gICAgICAkKCcjYWRkJykudHJpZ2dlcihcImNsaWNrXCIpO1xuICAgICB9XG4gICAgIHNldFRpbWVvdXQoc2VuZE1lLCAxMDAwKTtcbiAgIH0pO1xuXG4gICAkKCcuanMtcmVzZXQtY3VzdG9taXplcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgIHNldFRpbWVvdXQocmVzZXRDdXN0b21pemVyRm9ybSwgNTAwKTtcbiAgIH0pO1xuXG4gICAkKCcuanMtcmVzZXQtZ2V0LWZpdHRlZCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICRzbGlkZXIuc2xpY2soJ3Vuc2xpY2snKTtcbiAgICAgJHNsaWRlckdGLnNsaWNrKCd1bnNsaWNrJyk7XG4gICAgIHByb2dyZXNzKDEpO1xuICAgICAkKCcuanMtYWN0aW9uLWZpbmlzaCcpLmhpZGUoKTtcbiAgICAgJCgnLmpzLWFjdGlvbi1uZXh0Jykuc2hvdygpO1xuICAgfSk7XG5cbiAgICQoJy5qcy1yZXNldC1nZXQtZml0dGVkLWludHJvJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgc2V0VGltZW91dChyZXNldEdGSW50cm8sIDUwMCk7XG4gICAgIGJTbGljaygkc2xpZGVyLCBmYWxzZSk7XG4gICB9KTtcblxuICB2YXIgdCA9ICQoJy5zdGVwLXNsaWRlJykuZmluZCggXCIuanMtcmVxdWlyZWRcIiApO1xuICBpZih0Lmxlbmd0aCA+PSA0KXtcbiAgICAkKHQuZXEodC5sZW5ndGggLSAyKSkub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XG4gICAgICAkKCcuYXBwX19jb250ZW50JykuYW5pbWF0ZSh7XG4gICAgICAgIHNjcm9sbFRvcDogJCh0LmVxKHQubGVuZ3RoIC0gMSkpLm9mZnNldCgpLnRvcFxuICAgICAgfSwgMTAwMCk7XG4gICAgfSlcbiAgfVxuXG4gICQoJy5qcy1yZXNsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBnb2dvID0gJChfdGhpcykuZGF0YSgnZ28nKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgJHNsaWRlci5zbGljaygndW5zbGljaycpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgJHNsaWRlci5zbGljaygpO1xuICAgICAgICBpZiAoZ29nbyA+PSAwKXtcbiAgICAgICAgICAkc2xpZGVyLnNsaWNrKCdzbGlja0dvVG8nLCAkKF90aGlzKS5kYXRhKCdnbycpLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSwgMTAwKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICAkKCcuanMtZmFicmljay1kZXRhaWwnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICQoJy5qcy1wYWxldGUtZGV0YWlsJykuc2hvdygnZmFzdCcpO1xuICAgICQoJy5qcy1wYWxldGUtZGV0YWlsLS10aXRsZScpLnRleHQoJCh0aGlzKS5kYXRhKCd0aXRsZScpKTtcbiAgICAkKCcuanMtcGFsZXRlLWRldGFpbC0taW1hZ2UnKS5hdHRyKCdzcmMnLCAkKHRoaXMpLmRhdGEoJ2ltYWdlJykpO1xuICAgICQoJy5qcy1wYWxldGUtZGV0YWlsLS1kZXNjcmlwdGlvbicpLmh0bWwoJCh0aGlzKS5kYXRhKCdkZXNjcmlwdGlvbicpKTtcbiAgICAkKCcuanMtcGFsZXRlLWRldGFpbC0tZ28tYmFjaycpLmRhdGEoJ3Nob3cnLCAkKHRoaXMpLmRhdGEoJ3NlbGYnKSk7XG4gIH0pO1xuXG4gICQoJ1tkYXRhLWhlaWdodF0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgIHZhciAkZWwgPSAkKHRoaXMpLmRhdGEoJ2hlaWdodCcpO1xuICAgIHZhciBnZXRIZWlnaHQgPSAkKCRlbCkuaGVpZ2h0KCk7XG4gICAgdmFyIHNsaWRlSGVpZ2h0ID0gKCRlbCA9PT0gXCJkZWZhdWx0XCIgPyBjdXJyZWN0SGVpZ2h0IDogZ2V0SGVpZ2h0ICsgNTAgKTtcbiAgICAkKCcuc2xpY2stbGlzdCcpLmhlaWdodChzbGlkZUhlaWdodCk7XG4gIH0pO1xuXG4gICQoJ1tkYXRhLWdvdG9dJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICB2YXIgY3VycmVudCA9ICQodGhpcykuZGF0YSgnY3VycmVudCcpO1xuICAgICRzbGlkZXIuc2xpY2soJ3NsaWNrR29UbycsICQodGhpcykuZGF0YSgnZ290bycpLCB0cnVlKTtcbiAgICBpZiAoY3VycmVudCA+PSAwKXtcbiAgICAgIHByb2dyZXNzKGN1cnJlbnQpO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnW2RhdGEtc2Nyb2xsdG9wXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRhcmdldCA9ICQodGhpcykuZGF0YSgnc2Nyb2xsdG9wJyk7XG4gICAgJCh0YXJnZXQpLnNjcm9sbFRvcCgwKTtcbiAgfSk7XG5cbiAgJCgnLmpzLXN1Ym1pdC1yZWdpc3RlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgY29uc29sZS5sb2coJ3JlZ2lzdGVyJyk7XG4gICAgJCgnLmpzLXJlZ2lzdGVyLWd0LWZvcm0nKS50cmlnZ2VyKCdjbGljaycpO1xuICB9KTtcblxuICB9KTtcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG4iLCIkKGRvY3VtZW50KS5vbigncmVhZHknLCBmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBvcGVuTG9naW4oKSB7XG4gICAgJC5tYWduaWZpY1BvcHVwLm9wZW4oe1xuICAgICAgaXRlbXM6IHtzcmM6ICcjbG9naW5fbW9kYWwnfSxcbiAgICAgIHR5cGU6ICdpbmxpbmUnLFxuICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hZGRDbGFzcygnbm8tc2Nyb2xsJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5yZW1vdmVDbGFzcygnbm8tc2Nyb2xsJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZhbGlkTnVsbCh2YWwpIHtcbiAgICByZXR1cm4gKCh2YWwpID8gdmFsIDogbnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiBzYXZlRm9yTGF0ZXIob2JqKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDogXCJodHRwczovL2RlbW8uc25hcHN1aXRzLmNvbS9hcGkvdjEvY3VzdG9taXphdGlvbnNcIixcbiAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzIDoge1xuICAgICAgICAgICdBdXRob3JpemF0aW9uJyA6ICdUb2tlbiBiYjhkZDM0Y2VhZjM1MDZhNjNlZTM5ODZkNmFiMDQzOGJlY2YxOWExJ1xuICAgICAgICB9LFxuICAgICAgICBkYXRhOiBvYmosXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICQoJy5qcy1zYXZlLWZvci1sYXRlci10ZXh0JykudGV4dCgnU2F2ZWQhJyk7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJy5qcy1zYXZlLWZvci1sYXRlci10ZXh0JykudGV4dCgkKCcuanMtc2F2ZS1mb3ItbGF0ZXItdGV4dCcpLmRhdGEoJ2RlZmF1bHQnKSk7XG4gICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgIH0sZXJyb3I6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAkKCcuanMtc2F2ZS1mb3ItbGF0ZXItdGV4dCcpLnRleHQoJ1RyeSBBZ2FpbicpO1xuXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJy5qcy1zYXZlLWZvci1sYXRlci10ZXh0JykudGV4dCgkKCcuanMtc2F2ZS1mb3ItbGF0ZXItdGV4dCcpLmRhdGEoJ2RlZmF1bHQnKSk7XG4gICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIDUwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRvbnNDb2xsZWN0b3IobmFtZSkge1xuICAgIHZhciBhYSA9IFtdO1xuICAgICQoJ1tuYW1lPVwiJyArIG5hbWUgKyAnXCJdOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgaUlkID0gJCh0aGlzKS52YWwoKTtcbiAgICAgIGlmIChuYW1lID09PSAncHJvcGVydHktc3RpdGNoaW5nJykge1xuICAgICAgICB2YXIgdGVtcE9iaiA9IHt9O1xuICAgICAgICB0ZW1wT2JqW2lJZF0gPSB7J2NvbG9yJzogJCgkKHRoaXMpLmRhdGEoJ2NvbG9yJykrXCI6Y2hlY2tlZFwiKS52YWwoKSwgJ2xhYmVsJzogdmFsaWROdWxsKCQoJCh0aGlzKS5kYXRhKCdsYWJlbCcpKS52YWwoKSl9O1xuICAgICAgICBhYS5wdXNoKHRlbXBPYmopO1xuICAgICAgICB0ZW1wT2JqID0ge307XG4gICAgICB9ZWxzZSBpZiAobmFtZSA9PT0gJ3Byb3BlcnR5LWV4dHJhJykge1xuICAgICAgICBhYS5wdXNoKGlJZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWE7XG4gIH1cblxuICAkKCcuanMtc2F2ZS1mb3ItbGF0ZXInKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblxuICAgIHZhciBzYXZlZFN1aXQsXG4gICAgICAgIGFkZG9ucyxcbiAgICAgICAgYWRkb25zUHJvcGVydGllcyxcbiAgICAgICAgcHJvcGVydGllcyA9IHtcbiAgICAgICAgICBcInZhcmlhbnRfaWRcIjogJCgnLmpzLXByb2R1Y3QtaW5mbycpLmF0dHIoJ2RhdGEtdmFyaWFudCcpLFxuICAgICAgICAgIFwiUmVmXCI6IFNob3BpZnkucHJvZHVjdC5yZWYsXG4gICAgICAgICAgXCJMYXBlbFwiOiB2YWxpZE51bGwoJCgnaW5wdXRbbmFtZT1cInByb3BlcnRpZXNbTGFwZWxdXCJdOmNoZWNrZWQnKS52YWwoKSksXG4gICAgICAgICAgXCJMYXBlbCBBZGRpdGlvbmFsXCI6IHZhbGlkTnVsbCgkKCdpbnB1dFtuYW1lPVwicHJvcGVydGllc1tMYXBlbCBBZGRpdGlvbmFsXVwiXTpjaGVja2VkJykudmFsKCkpLFxuICAgICAgICAgIFwiQnV0dG9uc1wiOiB2YWxpZE51bGwoJCgnaW5wdXRbbmFtZT1cInByb3BlcnRpZXNbQnV0dG9uc11cIl06Y2hlY2tlZCcpLnZhbCgpKSxcbiAgICAgICAgICBcIkJ1dHRvbnMgQWRkaXRpb25hbFwiOiB2YWxpZE51bGwoJCgnaW5wdXRbbmFtZT1cInByb3BlcnRpZXNbQnV0dG9ucyBBZGRpdGlvbmFsXVwiXTpjaGVja2VkJykudmFsKCkpLFxuICAgICAgICAgIFwiUG9ja2V0c1wiOiB2YWxpZE51bGwoJCgnaW5wdXRbbmFtZT1cInByb3BlcnRpZXNbUG9ja2V0c11cIl06Y2hlY2tlZCcpLnZhbCgpKSxcbiAgICAgICAgICBcIlBvY2tldHMgQWRkaXRpb25hbFwiOiB2YWxpZE51bGwoJCgnaW5wdXRbbmFtZT1cInByb3BlcnRpZXNbUG9ja2V0cyBBZGRpdGlvbmFsXVwiXTpjaGVja2VkJykudmFsKCkpLFxuICAgICAgICAgIFwiVmVudHNcIjogdmFsaWROdWxsKCQoJ2lucHV0W25hbWU9XCJwcm9wZXJ0aWVzW1ZlbnRzXVwiXTpjaGVja2VkJykudmFsKCkpLFxuICAgICAgICAgIFwiUGFudHNcIjogdmFsaWROdWxsKCQoJ2lucHV0W25hbWU9XCJwcm9wZXJ0aWVzW1BhbnRzXVwiXTpjaGVja2VkJykudmFsKCkpLFxuICAgICAgICAgIFwiUGFudHMgV2Fpc3RcIjogdmFsaWROdWxsKCQoJ2lucHV0W25hbWU9XCJwcm9wZXJ0aWVzW1BhbnRzIFdhaXN0XVwiXTpjaGVja2VkJykudmFsKCkpLFxuICAgICAgICAgIFwiUGFudHMgQWRkaXRpb25hbHNcIjogdmFsaWROdWxsKCQoJ2lucHV0W25hbWU9XCJwcm9wZXJ0aWVzW1BhbnRzIEFkZGl0aW9uYWxzXVwiXTpjaGVja2VkJykudmFsKCkpLFxuICAgICAgICAgIFwiUGFudHMgQWRkaXRpb25hbHMgXCI6IHZhbGlkTnVsbCgkKCdpbnB1dFtuYW1lPVwicHJvcGVydGllc1tQYW50cyBBZGRpdGlvbmFscyBdXCJdOmNoZWNrZWQnKS52YWwoKSksXG4gICAgICAgICAgXCJQYW50cyBBZGRpdGlvbmFscyAgXCI6IHZhbGlkTnVsbCgkKCdpbnB1dFtuYW1lPVwicHJvcGVydGllc1tQYW50cyBBZGRpdGlvbmFscyAgXVwiXTpjaGVja2VkJykudmFsKCkpLFxuICAgICAgICB9LFxuICAgICAgICBzYXZlU3VpdCA9IHtcbiAgICAgICAgICBcInByb2R1Y3RfaWRcIjogU2hvcGlmeS5wcm9kdWN0LmlkLFxuICAgICAgICAgIFwicHJvZHVjdF9uYW1lXCI6IFNob3BpZnkucHJvZHVjdC50aXRsZSxcbiAgICAgICAgICBcInByb2R1Y3RfcHJpY2VcIjogU2hvcGlmeS5wcm9kdWN0LnByaWNlLFxuICAgICAgICAgIFwicHJvZHVjdF9pbWFnZVwiOiBTaG9waWZ5LnByb2R1Y3QuaW1hZ2UsXG4gICAgICAgICAgXCJwcm9kdWN0X3VybFwiOiBTaG9waWZ5LnByb2R1Y3QudXJsLFxuICAgICAgICAgIFwicHJvcGVydGllc1wiOiBKU09OLnN0cmluZ2lmeShwcm9wZXJ0aWVzKSxcbiAgICAgICAgICBcImFkZG9uc1wiOiB7fVxuICAgICAgICB9O1xuICAgIGZ1bmN0aW9uIHNlbmRBZGRvbnMoKSB7XG4gICAgICAkKCcuanMtYWRkb246Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGFkZG9ucyA9IHtcbiAgICAgICAgICBcInByb2R1Y3RfaWRcIjogJCh0aGlzKS52YWwoKSxcbiAgICAgICAgICBcInByb2R1Y3RfbmFtZVwiOiAkKHRoaXMpLmRhdGEoJ25hbWUnKSxcbiAgICAgICAgICBcInByb2R1Y3RfcHJpY2VcIjogJCh0aGlzKS5kYXRhKCdwcmljZScpLFxuICAgICAgICAgIFwicHJvZHVjdF9pbWFnZVwiOiAkKHRoaXMpLmRhdGEoJ2ltYWdlJyksXG4gICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IEpTT04uc3RyaW5naWZ5KGFkZG9uc1Byb3BlcnRpZXMpXG4gICAgICAgIH07XG5cbiAgICAgICAgYWRkb25zUHJvcGVydGllcyA9IHtcbiAgICAgICAgICBcInZhcmlhbnRfaWRcIjogJCh0aGlzKS52YWwoKSxcbiAgICAgICAgICBcIlR5cGVcIjogJCh0aGlzKS5kYXRhKCd0eXBlJyksXG4gICAgICAgICAgXCJGb3JcIjogU2hvcGlmeS5wcm9kdWN0LnRpdGxlICsgXCIgKFwiICsgU2hvcGlmeS5wcm9kdWN0LnJlZiArIFwiKVwiLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ3R5cGUnKSA9PT0gJ1N0aXRjaGluZycpIHtcbiAgICAgICAgICBhZGRvbnNQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgXCJ2YXJpYW50X2lkXCI6ICQodGhpcykudmFsKCksXG4gICAgICAgICAgICBcInR5cGVcIjogJCh0aGlzKS5kYXRhKCd0eXBlJyksXG4gICAgICAgICAgICBcIkZvclwiOiBTaG9waWZ5LnByb2R1Y3QudGl0bGUgKyBcIiAoXCIgKyBTaG9waWZ5LnByb2R1Y3QucmVmICsgXCIpXCIsXG4gICAgICAgICAgICBcIkNvbG9yXCI6ICQoJCh0aGlzKS5kYXRhKCdjb2xvcicpKyc6Y2hlY2tlZCcpLnZhbCgpXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ25hbWUnKSA9PT0gXCJNb25vZ3JhbW1lZFwiKSB7XG5cbiAgICAgICAgICAgIGFkZG9uc1Byb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICAgIFwidmFyaWFudF9pZFwiOiAkKHRoaXMpLnZhbCgpLFxuICAgICAgICAgICAgICBcIlR5cGVcIjogJCh0aGlzKS5kYXRhKCd0eXBlJyksXG4gICAgICAgICAgICAgIFwiRm9yXCI6IFNob3BpZnkucHJvZHVjdC50aXRsZSArIFwiIChcIiArIFNob3BpZnkucHJvZHVjdC5yZWYgKyBcIilcIixcbiAgICAgICAgICAgICAgXCJDb2xvclwiOiAkKCQodGhpcykuZGF0YSgnY29sb3InKSsnOmNoZWNrZWQnKS52YWwoKSxcbiAgICAgICAgICAgICAgXCJMYWJlbFwiOiAkKCQodGhpcykuZGF0YSgnbGFiZWwnKSkudmFsKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFNob3BpZnkuY3VzdG9tZXIpIHtcbiAgICAgICAgICBhZGRvbnMgPSB7XG4gICAgICAgICAgICBcInVzZXJfaWRcIjogU2hvcGlmeS5jdXN0b21lci5pZCxcbiAgICAgICAgICAgIFwiZW1haWxcIjogU2hvcGlmeS5jdXN0b21lci5lbWFpbCxcbiAgICAgICAgICAgIFwicHJvZHVjdF9pZFwiOiAkKHRoaXMpLnZhbCgpLFxuICAgICAgICAgICAgXCJwcm9kdWN0X25hbWVcIjogJCh0aGlzKS5kYXRhKCduYW1lJyksXG4gICAgICAgICAgICBcInByb2R1Y3RfcHJpY2VcIjogJCh0aGlzKS5kYXRhKCdwcmljZScpLFxuICAgICAgICAgICAgXCJwcm9kdWN0X2ltYWdlXCI6ICQodGhpcykuZGF0YSgnaW1hZ2UnKSxcbiAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiBKU09OLnN0cmluZ2lmeShhZGRvbnNQcm9wZXJ0aWVzKVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBzYXZlRm9yTGF0ZXIoYWRkb25zKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoU2hvcGlmeS5jdXN0b21lcikge1xuICAgICAgJCgnLmpzLXNhdmUtZm9yLWxhdGVyLXRleHQnKS50ZXh0KCdTYXZpbmcuLi4nKTtcblxuICAgICAgaWYgKENvb2tpZXMuZ2V0KFNob3BpZnkucHJvZHVjdC5pZC50b1N0cmluZygpKSkge1xuXG4gICAgICAgIHNhdmVkU3VpdCA9IGpRdWVyeS5wYXJzZUpTT04oQ29va2llcy5nZXQoU2hvcGlmeS5wcm9kdWN0LmlkLnRvU3RyaW5nKCkpKTtcblxuICAgICAgICAkKCcuanMtdmFyaWFudC1wcmljZScpLnZhbChzYXZlZFN1aXQudmFyaWFudF9pZCk7XG4gICAgICAgICQoJy5qcy12YXJpYW50LXByaWNlJykudHJpZ2dlcignY2hhbmdlJyk7XG5cbiAgICAgICAgc2F2ZWRTdWl0LmVtYWlsID0gU2hvcGlmeS5jdXN0b21lci5lbWFpbDtcbiAgICAgICAgc2F2ZWRTdWl0LnVzZXJfaWQgPSBTaG9waWZ5LmN1c3RvbWVyLmlkO1xuICAgICAgICBzYXZlU3VpdC5zYXZlZF9zdGF0dXMgPSBmYWxzZTtcblxuICAgICAgICBzYXZlRm9yTGF0ZXIoc2F2ZWRTdWl0LCBzZW5kQWRkb25zKCkpO1xuXG4gICAgICAgIENvb2tpZXMucmVtb3ZlKHNhdmVTdWl0LnByb2R1Y3RfaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2F2ZWRTdWl0ID0gc2F2ZVN1aXQ7XG4gICAgICAgIHNhdmVTdWl0LnNhdmVkX3N0YXR1cyA9IGZhbHNlO1xuICAgICAgICBzYXZlZFN1aXQuZW1haWwgPSBTaG9waWZ5LmN1c3RvbWVyLmVtYWlsO1xuICAgICAgICBzYXZlZFN1aXQudXNlcl9pZCA9IFNob3BpZnkuY3VzdG9tZXIuaWQ7XG5cbiAgICAgICAgc2F2ZUZvckxhdGVyKHNhdmVkU3VpdCwgc2VuZEFkZG9ucygpKTtcbiAgICAgIH1cbiAgICB9ZWxzZSB7XG4gICAgICBzYXZlU3VpdC5zYXZlZF9zdGF0dXMgPSB0cnVlO1xuICAgICAgc2F2ZVN1aXQuYWRkb25zW1wicHJvcGVydHktbGluaW5nXCJdID0gdmFsaWROdWxsKCQoJ2lucHV0W25hbWU9XCJwcm9wZXJ0eS1saW5pbmdcIl06Y2hlY2tlZCcpLnZhbCgpKTtcbiAgICAgIHNhdmVTdWl0LmFkZG9uc1tcInByb3BlcnR5LXN0aXRjaGluZ1wiXSA9IGFkZG9uc0NvbGxlY3RvcigncHJvcGVydHktc3RpdGNoaW5nJyk7XG4gICAgICBzYXZlU3VpdC5hZGRvbnNbXCJwcm9wZXJ0eS1leHRyYVwiXSA9IGFkZG9uc0NvbGxlY3RvcigncHJvcGVydHktZXh0cmEnKTtcblxuICAgICAgQ29va2llcy5yZW1vdmUoc2F2ZVN1aXQucHJvZHVjdF9pZCk7XG4gICAgICBDb29raWVzLnNldChzYXZlU3VpdC5wcm9kdWN0X2lkICwgc2F2ZVN1aXQsIHsgZXhwaXJlczogMSB9KTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgb3BlbkxvZ2luKCk7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH0pXG59KTtcbiIsIiEgZnVuY3Rpb24odCwgaSwgZSkge1xuICAgIHZhciBuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGkoJ2FbaHJlZio9XCIjc2Nyb2xsXCJdOm5vdChbaHJlZj1cIiNcIl0pJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sIFwiXCIpID09IHRoaXMucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sIFwiXCIpICYmIGxvY2F0aW9uLmhvc3RuYW1lID09IHRoaXMuaG9zdG5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IGkodGhpcy5oYXNoKTtcbiAgICAgICAgICAgICAgICBpZiAodCA9IHQubGVuZ3RoID8gdCA6IGkoXCJbbmFtZT1cIiArIHRoaXMuaGFzaC5zbGljZSgxKSArIFwiXVwiKSwgdC5sZW5ndGgpIHJldHVybiBpKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiB0Lm9mZnNldCgpLnRvcFxuICAgICAgICAgICAgICAgIH0sIDFlMyksICExXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdC5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG4oKVxuICAgIH1cbn0od2luZG93Lkdsb2JhbCA9IHdpbmRvdy5HbG9iYWwgfHwge30sIGpRdWVyeSksXG5mdW5jdGlvbih0LCBpLCBlKSB7XG4gICAgdmFyIG4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGkoXCIuaG9tZXBhZ2Utc2xpZGVzXCIpLnNsaWNrKHtcbiAgICAgICAgICAgICAgICBhcnJvd3M6ICEwLFxuICAgICAgICAgICAgICAgIGRvdHM6ICEwLFxuICAgICAgICAgICAgICAgIHNwZWVkOiA1MDAsXG4gICAgICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogMzAwMCxcbiAgICAgICAgICAgICAgICBwYXVzZU9uSG92ZXI6ZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1wcmV2XCI+PGltZyBzcmM9XCIvL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDY2Mi82MDMxL3QvMTcvYXNzZXRzL3NsaWRlci1hcnJvdy1wcmV2LXdoaXRlLnBuZz83NDgwNjc2MDIxMDEwNjUxNTg5XCIgYWx0PVwiXCIgLz48L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgIG5leHRBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stbmV4dFwiPjxpbWcgc3JjPVwiLy9jZG4uc2hvcGlmeS5jb20vcy9maWxlcy8xLzA2NjIvNjAzMS90LzE3L2Fzc2V0cy9zbGlkZXItYXJyb3ctbmV4dC13aGl0ZS5wbmc/NzQ4MDY3NjAyMTAxMDY1MTU4OVwiIGFsdD1cIlwiIC8+PC9idXR0b24+J1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB9LFxuICAgICAgICBzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuKCksIG8oKSwgaShcIi5jb2xsZWN0aW9uLXRhYnMgbGkgYVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciB0ID0gaSh0aGlzKS5hdHRyKFwiaHJlZlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaShcIi5jb2xsZWN0aW9uLXRhYnMgbGlcIikucmVtb3ZlQ2xhc3MoXCJpcy1hY3RpdmVcIiksIGkodGhpcykuY2xvc2VzdChcImxpXCIpLmFkZENsYXNzKFwiaXMtYWN0aXZlXCIpLCBpKFwiLmNvbGxlY3Rpb24tYmxvY2tcIikuaGlkZSgpLCBpKHRoaXMpLmNsb3Nlc3QoXCJbZGF0YS10YWItY2xvc2VzdF1cIikuZmluZCh0KS5zaG93KCksIGkoXCIuY29sbGVjdGlvbi1ibG9ja1wiKS5zbGljayhcInVuc2xpY2tcIiksIG8oKSwgITFcbiAgICAgICAgICAgIH0pLCBpKFwiLm1lbnUtdHJpZ2dlclwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGkoXCIuYmFyXCIpLnRvZ2dsZUNsYXNzKFwiYW5pbWF0ZVwiKVxuICAgICAgICAgICAgfSksIGkoXCIubWVudS10cmlnZ2VyXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkoXCIuaW5saW5lLW5hdmlnYXRpb24sIGh0bWxcIikudG9nZ2xlQ2xhc3MoXCJpcy1hY3RpdmVcIiksIGkoXCIubWVudS1vdmVybGF5XCIpLmFkZENsYXNzKFwiaXMtYWN0aXZlXCIpLCBpKFwiaHRtbFwiKS5oYXNDbGFzcyhcImlzLWFjdGl2ZVwiKSkgdmFyIHQgPSAtMzAwLFxuICAgICAgICAgICAgICAgICAgICBlID0gMDtcbiAgICAgICAgICAgICAgICBlbHNlIHZhciB0ID0gMCxcbiAgICAgICAgICAgICAgICAgICAgZSA9IC0zMDA7XG4gICAgICAgICAgICAgICAgaShcImh0bWxcIikuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHRcbiAgICAgICAgICAgICAgICB9LCAzMDApLCBpKFwiLmlubGluZS1uYXZpZ2F0aW9uXCIpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICByaWdodDogZVxuICAgICAgICAgICAgICAgIH0sIDMwMClcbiAgICAgICAgICAgIH0pLCBpKFwiLm1lbnUtb3ZlcmxheVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGkoXCIuaW5saW5lLW5hdmlnYXRpb24sIGh0bWxcIikucmVtb3ZlQ2xhc3MoXCJpcy1hY3RpdmVcIiksIGkoXCIubWVudS1vdmVybGF5XCIpLnJlbW92ZUNsYXNzKFwiaXMtYWN0aXZlXCIpLCBpKFwiLmJhclwiKS5yZW1vdmVDbGFzcyhcImFuaW1hdGVcIiksIGkoXCJodG1sXCIpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgICAgICAgICAgfSwgMzAwKSwgaShcIi5pbmxpbmUtbmF2aWdhdGlvblwiKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IC0zMDBcbiAgICAgICAgICAgICAgICB9LCAzMDApXG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgIHQuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzKClcbiAgICB9XG59KHdpbmRvdy5Ib21lcGFnZSA9IHdpbmRvdy5Ib21lcGFnZSB8fCB7fSwgalF1ZXJ5KTtcbiIsInZhciB0aGVtZSA9IChmdW5jdGlvbigpIHtcbiAgdmFyICRtZW51ID0gJCgnLmpzLW1lbnUnKTtcbiAgdmFyIF9tZW51Q2xhc3MgPSBcImJvZHktbmF2XCI7XG4gIHZhciAkc2VhcmNoID0gJCgnLmpzLXNlYXJjaCcpO1xuICB2YXIgX3NlYXJjaENsYXNzID0gXCJib2R5LXNlYXJjaFwiO1xuXG4gIGZ1bmN0aW9uIHVpRXZlbnRzKCkge1xuICAgICQoJy5qcy1mb290ZXItZnJlZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCQoJy5qcy1tYWluLWZvb3RlcicpLmhhc0NsYXNzKCdzdGlja3knKSkge1xuICAgICAgICAkKCcuanMtbWFpbi1mb290ZXInKS5yZW1vdmVDbGFzcygnc3RpY2t5JylcbiAgICAgIH1lbHNlIHtcbiAgICAgICAgZm9vdGVyUG9zaXRpb24oKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gbWVudSgpIHtcbiAgICAkbWVudS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgJCgnYm9keScpLnRvZ2dsZUNsYXNzKF9tZW51Q2xhc3MpO1xuICAgICAgJCgnYm9keSwgaHRtbCcpLnRvZ2dsZUNsYXNzKCduby1zY3JvbGwnKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbmRFbWFpbCgpe1xuICAgICQoJy5qcy1zZW5kLWVtYWlsJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgZnVuY3Rpb24gZW1haWxWYWwobmFtZSkge1xuICAgICAgICByZXR1cm4gJCgnLmpzLXNlbmQtZW1haWwnKS5maW5kKCdbbmFtZT1cIicrbmFtZSsnXCJdJykudmFsKCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGVtYWlsQWpheChjYikge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxuICAgICAgICAgIHVybCA6IFwiaHR0cHM6Ly9tYW5kcmlsbGFwcC5jb20vYXBpLzEuMC9tZXNzYWdlcy9zZW5kLmpzb25cIixcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgIGRhdGEgOiBlbWFpbE9iaixcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUil7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgY2IoZGF0YSAsZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pe1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIGNiKHRleHRTdGF0dXMgLHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbWFpbE9iaiA9IHtcbiAgICAgICAgICAgIFwia2V5XCI6IFwidzcwYm9ZemJwRklMcHRubUlfUzk0Z1wiLFxuICAgICAgICAgICAgXCJtZXNzYWdlXCI6IHtcbiAgICAgICAgICAgICAgXCJodG1sXCI6IFwiPGgzPlwiK2VtYWlsVmFsKCdmdWxsX25hbWUnKStcIjwvaDM+PHA+XCIrZW1haWxWYWwoJ3RleHQnKStcIjwvcD5cIixcbiAgICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiTmFtZTogXCIrZW1haWxWYWwoJ2Z1bGxfbmFtZScpK1wiIFxcblwiK2VtYWlsVmFsKCd0ZXh0JyksXG4gICAgICAgICAgICAgIFwic3ViamVjdFwiOiBcIlBoaWxhbnRocm9weSBSZXF1ZXN0OiBcIitlbWFpbFZhbCgnZnVsbF9uYW1lJyksXG4gICAgICAgICAgICAgIFwiZnJvbV9lbWFpbFwiOiBcInBoaWxhbnRocm9weUBzbmFwc3VpdHMuY29tXCIsXG4gICAgICAgICAgICAgIFwiZnJvbV9uYW1lXCI6IFwiU25hcFN1aXRzXCIsXG4gICAgICAgICAgICAgIFwidG9cIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFwiZW1haWxcIjogXCJkcmV3QHNuYXBzdWl0cy5jb21cIixcbiAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIlJ5YW4gTGVhaHlcIixcbiAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInRvXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIFwiaGVhZGVyc1wiOiB7XG4gICAgICAgICAgICAgICAgXCJSZXBseS1Ub1wiOiBlbWFpbFZhbCgnZW1haWwnKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgaWYgKCQoJy5qcy1zZW5kLWVtYWlsIFtuYW1lPVwia2l0dHlcIl0nKSAmJiAkKCcuanMtc2VuZC1lbWFpbCBbbmFtZT1cImtpdHR5XCJdJykudmFsKCkgPT09IFwiXCIpIHtcbiAgICAgICAgZW1haWxBamF4KGZ1bmN0aW9uKHJlc3BvbnNlLCBlcnJvcikge1xuICAgICAgICAgIHZhciBidG4gPSAkKCcuanMtc2VuZC1lbWFpbCcpLmZpbmQoJ1tuYW1lPVwic3VibWl0XCJdJyk7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBidG4udmFsKCdFcnJvciwgVHJ5IEFnYWluJyk7XG4gICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgYnRuLnZhbCgnTm90aWZpY2F0aW9uIHNlbmRlZCEgOyknKTtcbiAgICAgICAgICAgIGJ0bi5hZGRDbGFzcygnYnV0dG9uLS1zdWNjZXNzJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGJ0bi52YWwoJ3N1Ym1pdCcpO1xuICAgICAgICAgICAgYnRuLnJlbW92ZUNsYXNzKCdidXR0b24tLXN1Y2Nlc3MnKTtcbiAgICAgICAgICB9LDUwMDApO1xuICAgICAgICB9KTtcbiAgICAgIH1lbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0tpdHRpZXMgQ2FuZCBzZW5kIG1lc3NhZ2VzISEhJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWFyY2goKSB7XG4gICAgJHNlYXJjaC5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgJCgnYm9keScpLnRvZ2dsZUNsYXNzKF9zZWFyY2hDbGFzcyk7XG4gICAgICAkKCdib2R5LCBodG1sJykudG9nZ2xlQ2xhc3MoJ25vLXNjcm9sbCcpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2FsbGVyeSgpIHtcbiAgICB2YXIgJHR1bWIgPSAnLmpzLXR1bWJuYWlsJztcbiAgICB2YXIgJGZ1bGwgPSBcIi5qcy1pbWFnZS1mdWxsXCI7XG4gICAgdmFyIF9mdWxsU3JjID0gXCJkYXRhLWhkXCI7XG4gICAgdmFyIF9jbGFzcyA9IFwiaXMtYWN0aXZlXCI7XG5cbiAgICAkKCR0dW1iKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgJCgkdHVtYikucmVtb3ZlQ2xhc3MoX2NsYXNzKTtcbiAgICAgIHZhciBsYXJnZSA9ICQodGhpcykuYXR0cihfZnVsbFNyYyk7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKF9jbGFzcyk7XG4gICAgICAkKCRmdWxsKS5hdHRyKCdzcmMnLCBsYXJnZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBidXR0b25Db250aW51ZShlbCwgcCkge1xuICAgIHZhciAkYnRuID0gJChlbCk7XG4gICAgJGJ0bi5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAkKHRoaXMpLnBhcmVudHMocCkuZmFkZU91dCgyNTApO1xuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBhY2NvcmRpb24oJGVsKSB7XG4gICAgaWYgKCRlbCl7XG4gICAgICAkKCRlbCkuYWNjb3JkaW9uKCk7XG4gICAgfWVsc2V7XG4gICAgICAkKCcuanMtYWNjb3JkaW9uJykuYWNjb3JkaW9uKHtcbiAgICAgICAgaGVpZ2h0U3R5bGU6IFwiY29udGVudFwiLFxuICAgICAgICBjb2xsYXBzaWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJCgnLmpzLWFjY29yZGlvbi5qcy1hY2NvcmRpb24tLWNsb3NlJykuYWNjb3JkaW9uKHtcbiAgICAgIGhlaWdodFN0eWxlOiBcImNvbnRlbnRcIixcbiAgICAgIGNvbGxhcHNpYmxlOiB0cnVlLFxuICAgICAgYWN0aXZlOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2xpZGVyKCRlbCkge1xuICAgIGlmICghJGVsKXtcbiAgICAgIHZhciAkZWwgPSAnLmpzLXNsaWRlciwgLmpzLXNsaWNrJztcbiAgICB9XG4gICAgJCgkZWwpLnNsaWNrKCk7XG5cbiAgICAkKCcuanMtc2xpZGUtc3VpdHMtdGFiJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAkKCcuanMtc2xpZGUtc3VpdHMtdGFiJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG5cbiAgICAgICQoJy5qcy1zbGlkZS1zdWl0cycpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICQoJCh0aGlzKS5kYXRhKCdzbGlkZScpKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAkKCQodGhpcykuZGF0YSgnc2xpZGUnKSkuc2xpY2soJ3Vuc2xpY2snKS5zbGljaygpO1xuXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwb3B1cCgkZWwpIHtcbiAgICBpZiAoISRlbCl7XG4gICAgICB2YXIgJGVsID0gJy5qcy1wb3B1cCwgLmpzLW1vZGFsJztcbiAgICB9XG4gICAgJCgkZWwpLm1hZ25pZmljUG9wdXAoe1xuICAgICAgdHlwZTogJ2lubGluZScsXG4gICAgICBwcmVsb2FkZXI6IGZhbHNlLFxuICAgICAgbW9kYWw6IHRydWUsXG4gICAgICBjbG9zZU9uQ29udGVudENsaWNrOiBmYWxzZSxcbiAgICAgIGNsb3NlT25CZ0NsaWNrOiB0cnVlLFxuICAgICAgZW5hYmxlRXNjYXBlS2V5OiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwb3B1cElmcmFtZSgkZWwpIHtcbiAgICBpZiAoISRlbCl7XG4gICAgICB2YXIgJGVsID0gJy5qcy1wb3B1cC1pZnJhbWUnO1xuICAgIH1cbiAgICAkKCRlbCkubWFnbmlmaWNQb3B1cCh7XG4gICAgICBkaXNhYmxlT246IDcwMCxcbiAgICAgIHR5cGU6ICdpZnJhbWUnLFxuICAgICAgbWFpbkNsYXNzOiAnbWZwLWZhZGUnLFxuICAgICAgcmVtb3ZhbERlbGF5OiAxNjAsXG4gICAgICBwcmVsb2FkZXI6IGZhbHNlLFxuICAgICAgZml4ZWRDb250ZW50UG9zOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UGFyYW0obmFtZSwgdXJsKSB7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgIH1cbiAgICBpZiAobmFtZSl7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlxcXFwkJlwiKTtcbiAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcbiAgICAgICAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xuICAgICAgaWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmICghcmVzdWx0c1syXSkgcmV0dXJuICcnO1xuICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSnNvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBPYmplY3Qob2JqKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvb3RlclBvc2l0aW9uKCkge1xuICAgIGlmICgoJChcIi5qcy1tYWluLWZvb3RlclwiKS5vZmZzZXQoKS50b3AgKyAkKFwiLmpzLW1haW4tZm9vdGVyXCIpLmhlaWdodCgpKSA+PSAkKHdpbmRvdykuaGVpZ2h0KCkpIHtcbiAgICB9ZWxzZSB7XG4gICAgICAkKCcuanMtbWFpbi1mb290ZXInKS5hZGRDbGFzcygnc3RpY2t5Jyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VuZFJlZ2lzdGVyKGZvcm1EYXRhLCBjYikge1xuICAgICQuYWpheCh7XG4gICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbiAgICAgIHVybCA6IFwie3sgc2V0dGluZ3NbJ3JlZ2lzdGVyX2FwaV91cmwnXSB9fVwiLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgZGF0YSA6IGZvcm1EYXRhLFxuICAgICAgaGVhZGVycyA6IHtcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nIDogJ1Rva2VuIGJiOGRkMzRjZWFmMzUwNmE2M2VlMzk4NmQ2YWIwNDM4YmVjZjE5YTEnXG4gICAgICB9LFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpe1xuICAgICAgICBpZiAodHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjYigpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhLCBqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pe1xuICAgICAgICB2YXIgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoZGF0YS5yZXNwb25zZVRleHQpO1xuICAgICAgICBpZiAodHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjYihwYXJzZWREYXRhLmVycm9yc1swXSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZhbGlkYXRlRW1haWwoZW1haWwpIHtcbiAgICB2YXIgcmUgPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgICByZXR1cm4gcmUudGVzdChlbWFpbCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHVpRXZlbnRzKCk7XG4gICAgZ2FsbGVyeSgpO1xuICAgIG1lbnUoKTtcbiAgICBzZWFyY2goKTtcbiAgICBzbGlkZXIoKTtcbiAgICBwb3B1cCgpO1xuICAgIHBvcHVwSWZyYW1lKCk7XG4gICAgYWNjb3JkaW9uKCk7XG4gICAgZ2V0UGFyYW0oKTtcbiAgICBmb290ZXJQb3NpdGlvbigpO1xuICAgIHNlbmRFbWFpbCgpO1xuICB9XG4gIHJldHVybiB7XG4gICAgaW5pdDogaW5pdCxcbiAgICBnYWxsZXJ5OiBnYWxsZXJ5LFxuICAgIGJ1dHRvbkNvbnRpbnVlOiBidXR0b25Db250aW51ZSxcbiAgICBzbGlkZXI6IHNsaWRlcixcbiAgICBwb3B1cDogcG9wdXAsXG4gICAgcG9wdXBJZnJhbWU6IHBvcHVwSWZyYW1lLFxuICAgIGFjY29yZGlvbjogYWNjb3JkaW9uLFxuICAgIGdldFBhcmFtOiBnZXRQYXJhbSxcbiAgICBpc0pzb246IGlzSnNvbixcbiAgICBmb290ZXJQb3NpdGlvbjogZm9vdGVyUG9zaXRpb24sXG4gICAgc2VuZFJlZ2lzdGVyOiBzZW5kUmVnaXN0ZXIsXG4gICAgdmFsaWRhdGVFbWFpbDogdmFsaWRhdGVFbWFpbFxuICB9O1xufSkoKTtcbiIsIjsoZnVuY3Rpb24gKCQsIHVuZGVmaW5lZCkge1xuICB2YXIgcmVnaXN0ZXJBcGkgPSBcInt7IHNldHRpbmdzWydyZWdpc3Rlcl9hcGlfdXJsJ10gfX1cIjtcbiAgdmFyICRlcnJvcnMgPSAkKCcuanMtZXJyb3JzJyk7XG4gIHZhciAkZXJyb3JzTGlzdCA9ICRlcnJvcnMuZmluZCgndWwnKTtcblxuICBmdW5jdGlvbiBzZW5kUmVnaXN0ZXIoZm9ybURhdGEsIGNiKSB7XG4gICAgJC5hamF4KHtcbiAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxuICAgICAgdXJsIDogcmVnaXN0ZXJBcGksXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICBkYXRhIDogZm9ybURhdGEsXG4gICAgICBoZWFkZXJzIDoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbicgOiAnVG9rZW4gYmI4ZGQzNGNlYWYzNTA2YTYzZWUzOTg2ZDZhYjA0MzhiZWNmMTlhMSdcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUil7XG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEsIGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bil7XG4gICAgICAgIHZhciBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShkYXRhLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGNiKHBhcnNlZERhdGEuZXJyb3JzWzBdLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVFbWFpbChlbWFpbCkge1xuICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgIHJldHVybiByZS50ZXN0KGVtYWlsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlucHV0VmFsdWUoZWwsIHZhbHVlKSB7XG4gICAgdmFyICRlbCA9ICQoJy5qcy1yZWdpc3Rlci1mb3JtJykuZmluZCgnW25hbWU9XCInK2VsKydcIl0nKTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHJldHVybiAkZWwudmFsKHZhbHVlKTtcbiAgICB9ZWxzZSB7XG4gICAgICByZXR1cm4gJGVsLnZhbCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyVXNlcihmb3JtRGF0YSkge1xuICAgICRlcnJvcnMuaGlkZSgpO1xuICAgICRlcnJvcnNMaXN0Lmh0bWwoJycpO1xuXG4gICAgdmFyIHZhbGlkRW1haWwgPSBmYWxzZSxcbiAgICAgICAgdmFsaWROYW1lcyA9IGZhbHNlLFxuICAgICAgICB2YWxpZFBhc3MgPSBmYWxzZSxcbiAgICAgICAgdHJhcCA9IHRydWU7XG5cbiAgICB2YXIgZm9ybUZpZWxkcyA9IHtcbiAgICAgIGZpcnN0X25hbWU6IGlucHV0VmFsdWUoJ2ZpcnN0X25hbWUnKSxcbiAgICAgIGxhc3RfbmFtZTogaW5wdXRWYWx1ZSgnbGFzdF9uYW1lJyksXG4gICAgICBlbWFpbDogaW5wdXRWYWx1ZSgnZW1haWwnKSxcbiAgICAgIHRyYXA6IGlucHV0VmFsdWUoJ2ltYWNhdCcpXG4gICAgfVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgaWYgKGZvcm1GaWVsZHMuZmlyc3RfbmFtZS5sZW5ndGggPiAxICYmIGZvcm1GaWVsZHMubGFzdF9uYW1lLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFsaWROYW1lcyA9IHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgJGVycm9yc0xpc3QuYXBwZW5kKCc8bGk+SW52YWxpZCBGaXJzdCBvciBMYXN0IG5hbWU8L2xpPicpXG4gICAgICB9XG4gICAgICBpZiAodmFsaWRhdGVFbWFpbChmb3JtRmllbGRzLmVtYWlsKSkge1xuICAgICAgICB2YWxpZEVtYWlsID0gdHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICAkZXJyb3JzTGlzdC5hcHBlbmQoJzxsaT5Ob3QgYSB2YWxpZCBFbWFpbDwvbGk+JylcbiAgICAgIH1cbiAgICAgIGlmIChmb3JtRmllbGRzLnRyYXAubGVuZ3RoID4gMCkge1xuICAgICAgICB0cmFwID0gZmFsc2U7XG4gICAgICAgICRlcnJvcnNMaXN0LmFwcGVuZCgnPGxpPkNhdHMgY2FuIG5vdCBzaWduIHVwIGhlcmUhPC9saT4nKVxuICAgICAgfVxuXG4gICAgICBpZiAodmFsaWRFbWFpbCAmJiB2YWxpZE5hbWVzICYmIHRyYXApIHtcbiAgICAgICAgc2VuZFJlZ2lzdGVyKGZvcm1EYXRhLCBmdW5jdGlvbihyZXNwb25zZSwgZXJyb3IpIHtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICRlcnJvcnMucmVtb3ZlQ2xhc3MoJ2Vycm9ycy0tZ3JlZW4nKTtcbiAgICAgICAgICAgICRlcnJvcnMuZmFkZUluKCdmYXN0Jyk7XG4gICAgICAgICAgICAkZXJyb3JzTGlzdC5hcHBlbmQoJzxsaT4nK3Jlc3BvbnNlKyc8L2xpPicpXG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkKCcuanMtcmVnaXN0ZXItZm9ybScpLmZpbmQoJ1tuYW1lPVwiZmlyc3RfbmFtZVwiXScpLnZhbCgnJyk7XG4gICAgICAgICAgICAkKCcuanMtcmVnaXN0ZXItZm9ybScpLmZpbmQoJ1tuYW1lPVwibGFzdF9uYW1lXCJdJykudmFsKCcnKTtcbiAgICAgICAgICAgICQoJy5qcy1yZWdpc3Rlci1mb3JtJykuZmluZCgnW25hbWU9XCJlbWFpbFwiXScpLnZhbCgnJyk7XG4gICAgICAgICAgICAkKCcuanMtcmVnaXN0ZXItZm9ybS0td3JhcHBlcicpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJy5qcy1yZWdpc3Rlci1mb3JtLS1zdWNjZXNzJykuc2hvdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1lbHNlIHtcbiAgICAgICAgJGVycm9ycy5mYWRlSW4oJ2Zhc3QnKTtcbiAgICAgIH1cbiAgICB9LDQ1MCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZXJzRmxvdygpIHtcbiAgICAkKCcuanMtcmVnaXN0ZXItZm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmVnaXN0ZXJVc2VyKCQodGhpcykuc2VyaWFsaXplQXJyYXkoKSk7XG4gICAgfSk7XG5cbiAgICAkZXJyb3JzLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgJCh0aGlzKS5mYWRlT3V0KCdmYXN0Jyk7XG4gICAgfSlcbiAgfVxuXG4gICQoZG9jdW1lbnQpLm9uKCdyZWFkeScsIHVzZXJzRmxvdygpKTtcblxufShqUXVlcnkpKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

$(document).on('ready', function() {
  if (screen.width >= 480) {
  	$('.product-info.mobile--only').remove();
    $('.product-actions.mobile--only').remove();
  }	else {
  	$('.product-info.desktop--only').remove();
    $('.product-actions.desktop--only').remove();
  }
});
