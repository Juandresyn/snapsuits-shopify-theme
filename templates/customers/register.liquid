<div id ="register_main">
  {% include 'red-title' with title: "Register" %}
  <p class="text--regular text--center m-t-lg hidden js-register-copy"></p>
  <div class="register-form js-register-form--wrapper">
    <div class="form-wrapper">
      <form class="form js-register-form" action="">
        <div id="errors" class="errors js-errors" style="display: none;">
          <ul></ul>
        </div>
        <div class="input-control">
          <input type="text" type="text" name="first_name" required="required" class="js-register-first_name" id="first_name">
          <label for="first_name" class="form-label">first name</label>
        </div>
        <div class="input-control">
          <input type="text" type="text" name="last_name" required="required" class="js-register-last_name" id="last_name">
          <label for="last_name" class="form-label">last name</label>
        </div>
        <div class="input-control">
          <input type="text" type="text" name="email" required="required" class="js-register-email" id="email">
          <label for="email" class="form-label">email address</label>
        </div>
        <input type="text" name="imacat" class="js-cat_trap hidden" id="cat">
        <div class="form-actions center">
          <input type="submit" class="button button--primary cta" value="Register">
          <p class="text--regular">Already have an account, <a href="/account/login" class="highlight">Log In</a></p>
        </div>
      </form>
    </div>
  </div>
  <div class="register-full register-success js-register-form--success" style="display: none;">
    <div class="register-success__wrapper icon-wrapper">
      <span class="icon--checked register-success__icon"></span>
    </div>
    <p class="register-success__text text--regular text--center">Check your email! Activate your account to complete the registration process.</p>
    <div class="form-actions center">
      <a href="/" class="button button--primary cta" value="Register">GO SHOPPING</a>
    </div>
  </div>
</div>
<script type="text/javascript">
  $(document).on('ready', function(){
    function validateRegisterData(el, val) {
      el.val(val);
      el.attr('readonly', 'readonly');
      el.siblings('label').addClass('form-label--valid');
    }

    var rRegister = theme.getParam('register');

    if(rRegister){
      var rEmail = theme.getParam('email');
      var rFname = theme.getParam('first_name');
      var rLname = theme.getParam('last_name');
      var $iFname = $('.js-register-first_name');
      var $iLname = $('.js-register-last_name');
      var $iEmail = $('.js-register-email');

      $('.js-register-copy').text('Now that we have your measurements, create a password to access your size.');
      $('.js-register-copy').removeClass('hidden');

      validateRegisterData($iFname, rFname);
      validateRegisterData($iLname, rLname);
      validateRegisterData($iEmail, rEmail);
    }
  });
</script>
